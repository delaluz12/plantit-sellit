{"version":3,"sources":["utils/helpers.js","utils/actions.js","utils/reducers.js","utils/GlobalState.js","components/ProductItem/index.js","utils/queries.js","components/Loading/Loading.js","components/ProductList/index.js","components/CategoryMenu/index.js","components/CartItem/index.js","utils/auth.js","components/Cart/index.js","components/LandingSlide/index.js","components/Landing/index.js","components/Footer/index.js","pages/Home.js","components/Sidebar/index.js","pages/Shop.js","components/AdminTopbar/index.jsx","components/AdminSidebar/index.jsx","components/SellerChart/dummyData.js","components/SellerFeaturedInfo/index.jsx","components/SellerChart/index.jsx","components/SellerWidgetSm/index.jsx","components/SellerWidgetLg/index.jsx","pages/SellerHome/SellerHome.jsx","pages/AdminUserList/AdminUserList.jsx","utils/mutations.js","components/ProductForm/index.jsx","pages/NewProduct/NewProduct.jsx","pages/AdminProductList/AdminProductList.jsx","pages/Dashboard/Dashboard.jsx","components/SellerTopbar/index.jsx","components/SellerSidebar/index.jsx","pages/SellerProductList/SellerProductList.jsx","components/Jumbotron/index.js","pages/NoMatch.js","pages/SellerProductItem/SellerProductItem.jsx","pages/SellerDashboard/SellerDashboard.jsx","pages/Detail.js","pages/Login.js","pages/Signup.js","components/Nav/index.js","pages/Success.js","pages/OrderHistory.js","App.js","serviceWorker.js","index.js"],"names":["idbPromise","storeName","method","object","Promise","resolve","reject","db","tx","store","request","window","indexedDB","open","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","_id","oncomplete","close","UPDATE_PRODUCTS","ADD_TO_CART","ADD_MULTIPLE_TO_CART","REMOVE_FROM_CART","UPDATE_CART_QUANTITY","TOGGLE_CART","UPDATE_CATEGORIES","UPDATE_CURRENT_CATEGORY","reducer","state","action","type","products","sellerProducts","clean","cartOpen","cart","product","map","purchaseQuantity","newState","filter","length","categories","currentCategory","StoreContext","createContext","Provider","StoreProvider","value","initialState","props","users","useReducer","dispatch","useStoreContext","useContext","ProductItem","item","image","name","price","classes","makeStyles","media","height","useStyles","className","Card","CardActionArea","to","CardMedia","alt","src","CardContent","children","Typography","align","color","CardActions","onClick","itemInCart","find","cartItem","parseInt","QUERY_PRODUCTS","gql","QUERY_PRODUCT","QUERY_CHECKOUT","QUERY_CATEGORIES","QUERY_USER","QUERY_USERS","QUERY_ALL_PRODUCT_DATA","QUERY_PRODUCTS_BY_SELLER","Loading","ProductList","useQuery","loading","data","useEffect","forEach","then","category","index","CategoryMenu","categoryData","id","CartItem","placeholder","onChange","target","role","removeFromCart","decode","this","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","getProfile","location","assign","removeItem","stripePromise","loadStripe","Cart","useLazyQuery","getCheckout","toggleCart","res","redirectToCheckout","sessionId","checkout","session","a","getCart","sum","toFixed","calculateTotal","Auth","loggedIn","productIds","i","push","variables","Avatar","LandingSlide","next","prev","url","caption","slideImage","style","Landing","theme","root","flexGrow","paper","padding","spacing","textAlign","palette","text","secondary","Box","px","xs","sm","py","Grid","container","md","Footer","bgcolor","Container","borderBottom","Link","href","pt","pb","Home","Sidebar","Shop","AdminTopbar","NotificationsNone","Language","Settings","AdminSidebar","LineStyle","Timeline","TrendingUp","PermIdentity","Storefront","AttachMoney","BarChart","MailOutline","DynamicFeed","ChatBubbleOutline","WorkOutline","Report","productData","SellerFeaturedInfo","ArrowDownward","ArrowUpward","SellerChart","title","dataKey","grid","ResponsiveContainer","width","aspect","LineChart","XAxis","stroke","Line","Tooltip","CartesianGrid","strokeDasharray","SellerWidgetSm","Visibility","SellerWidgetLg","Button","SellerHome","AdminUserList","error","useState","usersdata","setUsersdata","p","firstName","lastName","orders","listings","columns","field","headerName","renderCell","params","row","DeleteOutline","rows","disableSelectionOnClick","pageSize","LOGIN","ADD_ORDER","ADD_USER","ADD_PRODUCT","postImage","description","formData","FormData","append","axios","post","headers","formControl","margin","minWidth","marginTop","selectEmpty","ProductForm","sellerId","imagePath","setProduct","catIds","setCatIds","handleChange","event","preventDefault","file","setFile","images","setImages","useMutation","addProduct","submit","paths","split","entry","s3path","float","parseFloat","mutationResponse","prodID","fileSelected","files","resizeFile","newFile","dataURIToBlob","Resizer","imageFileResizer","uri","dataURI","splitDataURI","byteString","indexOf","atob","decodeURI","mimeString","ia","Uint8Array","charCodeAt","Blob","onSubmit","noValidate","autoComplete","TextField","label","variant","multiline","accept","FormControl","InputLabel","htmlFor","Select","native","inputProps","cat","NewProduct","AdminProductList","productdata","setProductdata","allProducts","sold","seller","Dashboard","auth","exact","path","component","SellerTopbar","SellerSidebar","Store","logout","ExitToApp","SellerProductList","backgroundColor","opacity","borderRadius","sellerData","setSellerData","updatedSellerProducts","productsBySeller","shipStatus","setPageSize","resizable","hide","valueFormatter","valueFormatted","autoHeight","onPageSizeChange","newPageSize","rowsPerPageOptions","pagination","checkboxSelection","getCellClassName","Jumbotron","clear","paddingTop","NoMatch","SellerProductItem","useParams","currentProduct","setCurrentProduct","clientId","setClientId","lastFour","substring","SellerDashboard","isSeller","Detail","indexedProducts","disabled","Login","email","password","formState","setFormState","login","handleFormSubmit","Signup","addUser","street","city","zip","withouNavRoutes","Nav","pathname","useLocation","some","includes","Success","addOrder","setTimeout","saveOrder","OrderHistory","user","order","purchaseDate","toLocaleDateString","httpLink","createHttpLink","authLink","setContext","_","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","App","ApolloProvider","exaxt","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","document","getElementById","URL","process","origin","addEventListener","fetch","response","contentType","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.005ecba4.chunk.js","sourcesContent":["export function pluralize(name, count) {\n  if (count === 1) {\n    return name;\n  }\n  return name + 's';\n}\n\nexport function idbPromise(storeName, method, object) {\n  return new Promise((resolve, reject) => {\n    const request = window.indexedDB.open('shop-shop', 1);\n    let db, tx, store;\n    request.onupgradeneeded = function(e) {\n      const db = request.result;\n      db.createObjectStore('products', { keyPath: '_id' });\n      db.createObjectStore('categories', { keyPath: '_id' });\n      db.createObjectStore('cart', { keyPath: '_id' });\n      db.createObjectStore('sellerProducts', { keyPath: 'id' });\n      db.createObjectStore('prodCategories', { keyPath: '_id' });\n      db.createObjectStore('users', { keyPath: '_id' })\n\n\n    };\n\n    request.onerror = function(e) {\n      console.log('There was an error');\n    };\n\n    request.onsuccess = function(e) {\n      db = request.result;\n      tx = db.transaction(storeName, 'readwrite');\n      store = tx.objectStore(storeName);\n\n      db.onerror = function(e) {\n        console.log('error', e);\n      };\n\n      switch (method) {\n        case 'put':\n          store.put(object);\n          resolve(object);\n          break;\n        case 'get':\n          const all = store.getAll();\n          all.onsuccess = function() {\n            resolve(all.result);\n          };\n          break;\n        case 'delete':\n          store.delete(object._id);\n          break;\n        default:\n          console.log('No valid method');\n          break;\n      }\n\n      tx.oncomplete = function() {\n        db.close();\n      };\n    };\n  });\n}\n","export const UPDATE_PRODUCTS = \"UPDATE_PRODUCTS\";\nexport const ADD_PRODUCT=\"ADD_PRODUCT\";\n\nexport const ADD_TO_CART = \"ADD_TO_CART\";\nexport const ADD_MULTIPLE_TO_CART = \"ADD_MULTIPLE_TO_CART\";\nexport const REMOVE_FROM_CART = \"REMOVE_FROM_CART\";\nexport const CLEAR_CART = \"CLEAR_CART\";\nexport const UPDATE_CART_QUANTITY = \"UPDATE_CART_QUANTITY\";\nexport const TOGGLE_CART = \"TOGGLE_CART\";\n\nexport const UPDATE_CATEGORIES = \"UPDATE_CATEGORIES\";\nexport const UPDATE_CURRENT_CATEGORY = \"UPDATE_CURRENT_CATEGORY\";\nexport const UPDATE_SELLERPRODUCTS = \"UPDATE_SELLERPRODUCTS\";\nexport const TEST = \"TEST\";","import { useReducer } from 'react';\nimport {\n  UPDATE_PRODUCTS,\n  ADD_TO_CART,\n  UPDATE_CART_QUANTITY,\n  REMOVE_FROM_CART,\n  ADD_MULTIPLE_TO_CART,\n  UPDATE_CATEGORIES,\n  UPDATE_CURRENT_CATEGORY,\n  CLEAR_CART,\n  TOGGLE_CART,\n  UPDATE_SELLERPRODUCTS,\n  TEST,\n} from './actions';\n\n// The reducer is a function that accepts the current state and an action. It returns a new state based on that action.\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    // Returns a copy of state with an update products array. We use the action.products property and spread it's contents into the new array.\n    case UPDATE_PRODUCTS:\n      return {\n        ...state,\n        products: [...action.products],\n      };\n      case UPDATE_SELLERPRODUCTS:\n      return {\n        ...state,\n        sellerProducts: [...action.sellerProducts],\n      };\n      case TEST:\n      return {\n        ...state,\n        clean: [...action.clean]\n      }\n\n    case ADD_TO_CART:\n      return {\n        ...state,\n        cartOpen: true,\n        cart: [...state.cart, action.product],\n      };\n    case ADD_MULTIPLE_TO_CART:\n      return {\n        ...state,\n        cart: [...state.cart, ...action.products],\n      };\n    // Returns a copy of state, sets the cartOpen to true and maps through the items in the cart.\n    // If the item's `id` matches the `id` that was provided in the action.payload, we update the purchase quantity.\n    case UPDATE_CART_QUANTITY:\n      return {\n        ...state,\n        cartOpen: true,\n        cart: state.cart.map((product) => {\n          if (action._id === product._id) {\n            product.purchaseQuantity = action.purchaseQuantity;\n          }\n          return product;\n        }),\n      };\n\n    // First we iterate through each item in the cart and check to see if the `product._id` matches the `action._id`\n    // If so, we remove it from our cart and set the updated state to a variable called `newState`\n    case REMOVE_FROM_CART:\n      let newState = state.cart.filter((product) => {\n        return product._id !== action._id;\n      });\n\n      // Then we return a copy of state and check to see if the cart is empty.\n      // If not, we set the cartOpen status to  `true`. Then we return an updated cart array set to the value of `newState`.\n      return {\n        ...state,\n        cartOpen: newState.length > 0,\n        cart: newState,\n      };\n\n    case CLEAR_CART:\n      return {\n        ...state,\n        cartOpen: false,\n        cart: [],\n      };\n\n    case TOGGLE_CART:\n      return {\n        ...state,\n        cartOpen: !state.cartOpen,\n      };\n\n    case UPDATE_CATEGORIES:\n      return {\n        ...state,\n        categories: [...action.categories],\n      };\n\n    case UPDATE_CURRENT_CATEGORY:\n      return {\n        ...state,\n        currentCategory: action.currentCategory,\n      };\n\n    // Return the state as is in the event that the `action.type` passed to our reducer was not accounted for by the developers\n    // This saves us from a crash.\n    default:\n      return state;\n  }\n};\n\nexport function useProductReducer(initialState) {\n  return useReducer(reducer, initialState);\n}\n","import React, { createContext, useContext } from \"react\";\nimport { useProductReducer } from './reducers'\n\nconst StoreContext = createContext();\nconst { Provider } = StoreContext;\n\nconst StoreProvider = ({ value = [], ...props }) => {\n  const [state, dispatch] = useProductReducer({\n    products: [],\n    cart: [],\n    cartOpen: false,\n    categories: [],\n    currentCategory: '',\n    sellerProducts: [],\n    clean: [],\n    users: []\n  });\n\n  return <Provider value={[state, dispatch]} {...props} />;\n};\n\nconst useStoreContext = () => {\n  return useContext(StoreContext);\n};\n\nexport { StoreProvider, useStoreContext };\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { pluralize } from \"../../utils/helpers\"\nimport { useStoreContext } from \"../../utils/GlobalState\";\nimport { ADD_TO_CART, UPDATE_CART_QUANTITY } from \"../../utils/actions\";\nimport { idbPromise } from \"../../utils/helpers\";\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport './productItem.css';\n\nfunction ProductItem(item) {\n  const [state, dispatch] = useStoreContext();\n\n  const {\n    image,\n    name,\n    _id,\n    price\n  } = item;\n\n  const { cart } = state\n\n  const addToCart = () => {\n    const itemInCart = cart.find((cartItem) => cartItem._id === _id)\n    if (itemInCart) {\n      dispatch({\n        type: UPDATE_CART_QUANTITY,\n        _id: _id,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n      idbPromise('cart', 'put', {\n        ...itemInCart,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n    } else {\n      dispatch({\n        type: ADD_TO_CART,\n        product: { ...item, purchaseQuantity: 1 }\n      });\n      idbPromise('cart', 'put', { ...item, purchaseQuantity: 1 });\n    }\n  }\n\n  const useStyles = makeStyles({\n    // root: {\n    //   maxWidth: 400,\n    // },\n    media: {\n      height: 140,\n    },\n    \n  });\n  \n  const classes = useStyles();\n\n  return (\n    <div className=\"card px-1 py-1 itemCard\">\n      <Card className=\"cardItem\">\n              <CardActionArea>\n      <Link to={`/products/${_id}`}>\n        <CardMedia className={classes.media}>\n        <LazyLoadImage alt={name}\n          src={`/s3images/${image}`}\n          //  \n          >\n        \n          \n       \n        </LazyLoadImage>\n        </CardMedia>\n        <CardContent children=\"node\">\n          <p className=\"cardTitle\">{name}</p>\n        </CardContent>\n      </Link>\n      </CardActionArea>\n     \n      <div>\n      <CardContent>\n        <Typography align=\"left\" color=\"inherit\">\n        {/* <div className=\"cardTitle\">{quantity} {pluralize(\"item\", quantity)} in stock</div> */}\n        <span className=\"cardTitle\">$ {price}</span>\n        </Typography>\n      </CardContent>  \n      </div>\n      <CardActions>\n      <Button  className=\"cartBtn\" onClick={addToCart}>Add to cart</Button>\n      </CardActions>\n      </Card>\n    </div>\n  );\n}\n\nexport default ProductItem;\n\n\n\n","import { gql } from \"@apollo/client\";\n\nexport const QUERY_PRODUCTS = gql`\n  query getProducts($category: ID) {\n    products(category: $category) {\n      _id\n      name\n      description\n      price\n      image\n      category {\n        _id\n        name\n      }\n    }\n  }\n`;\nexport const QUERY_PRODUCT = gql`\n  query getProduct($_id: ID!) {\n    product(_id: $_id) {\n      _id\n      name\n      description\n      image\n      price\n      category {\n        name\n      }\n      sellerId {\n        _id\n        firstName\n      }\n      buyerId {\n        _id\n        firstName\n      }\n      sold\n      shipStatus\n    }\n  }\n`;\n\nexport const QUERY_CHECKOUT = gql`\n  query getCheckout($products: [ID]!) {\n    checkout(products: $products) {\n      session\n    }\n  }\n`;\n\nexport const QUERY_ALL_PRODUCTS = gql`\n  {\n    products {\n      _id\n      name\n      description\n      price\n      category {\n        name\n      }\n    }\n  }\n`;\n\nexport const QUERY_CATEGORIES = gql`\n  {\n    categories {\n      _id\n      name\n    }\n  }\n`;\n\nexport const QUERY_USER = gql`\n  {\n    user {\n      firstName\n      lastName\n      orders {\n        _id\n        purchaseDate\n        products {\n          _id\n          name\n          description\n          price\n          image\n        }\n      }\n    }\n  }\n`;\n\nexport const QUERY_USERS = gql`\n  {\n    users {\n      _id\n      firstName\n      lastName\n      orders {\n        _id\n        purchaseDate\n        products {\n          _id\n          name\n          description\n          price\n          image\n        }\n      }\n      listings{\n        _id\n      }\n    }\n  }\n  `;\n\n\nexport const QUERY_ALL_PRODUCT_DATA = gql`\n  query {\n    allProducts {\n      _id\n      name\n      description\n      image\n      price\n      category {\n        name\n      }\n      sellerId {\n        _id\n      }\n      buyerId {\n        _id\n      }\n      sold\n      shipStatus\n    }\n  }\n`;\n\nexport const QUERY_PRODUCTS_BY_SELLER = gql`\n  query productsBySeller($sellerId: ID) {\n    productsBySeller(sellerId: $sellerId) {\n      _id\n      name\n      description\n      image\n      price\n      category {\n        name\n      }\n      sellerId {\n        _id\n      }\n      buyerId {\n        _id\n      }\n      sold\n      shipStatus\n    }\n  }\n`;\n","import React from \"react\";\nimport './Loading.css';\n\nfunction Loading() {\n  return (\n    <div>\n      <div className=\"container\">\n        <div className=\"loader\">\n          <div className=\"loader--dot\"></div>\n          <div className=\"loader--dot\"></div>\n          <div className=\"loader--dot\"></div>\n          <div className=\"loader--dot\"></div>\n          <div className=\"loader--dot\"></div>\n          <div className=\"loader--dot\"></div>\n          <div className=\"loader--text\"></div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Loading;\n","import React, { useEffect, useState } from \"react\";\nimport ProductItem from \"../ProductItem\";\nimport { useStoreContext } from \"../../utils/GlobalState\";\nimport { UPDATE_PRODUCTS } from \"../../utils/actions\";\nimport { useQuery } from \"@apollo/client\";\nimport { QUERY_PRODUCTS } from \"../../utils/queries\";\nimport { idbPromise } from \"../../utils/helpers\";\nimport Loading from \"../Loading/Loading\";\n\nimport ReactPaginate from \"react-paginate\";\n\nfunction ProductList() {\n  const [state, dispatch] = useStoreContext();\n\n  const { currentCategory } = state;\n\n  const { loading, data } = useQuery(QUERY_PRODUCTS);\n  // console.log(data);\n\n  useEffect(() => {\n    if (data) {\n      dispatch({\n        type: UPDATE_PRODUCTS,\n        products: data.products,\n      });\n      data.products.forEach((product) => {\n        idbPromise(\"products\", \"put\", product);\n      });\n    } else if (!loading) {\n      idbPromise(\"products\", \"get\").then((products) => {\n        dispatch({\n          type: UPDATE_PRODUCTS,\n          products: products,\n        });\n      });\n    }\n  }, [data, loading, dispatch]);\n\n  const filterProducts = () => {\n    // console.log(\"inside filteredProducts\", state);\n    if (!currentCategory) {\n      return state.products;\n    }\n\n    // const firstTen = state.products.slice(0, 10);\n\n    const categoryFiltered = state.products.filter(\n      (product) => product.category._id === currentCategory\n    );\n    // const paginatedProductList = displayProd(0, categoryFiltered);\n\n    return categoryFiltered;\n  };\n\n  // END OF FilterProducts()\n\n  // console.log(filterProducts());\n  // grab the data you want to display. i.e. have 1000 products but only want to display 500 .slice (0,500)\n  // const [displayProducts, setDisplayProducts] = useState(\n  //   state.products.slice(0, 15)\n  // );\n  // console.log(displayProducts);\n  // create state that will hold page # that the User is currently on in the pagination i.e. pg 2 out of 15 that displays 10 products per page\n  // const [pageNum, setPageNum] = useState(0);\n\n  // how many products we want per page\n  // const prodPerPage = 5;\n\n  // pages visited or products already viewed i.e. if on page 2 with 10 products it means we have already seen 20 products or two pages\n  // const pagesVisited = pageNum * prodPerPage;\n\n  // display the correct products on each page by slicing from the pagesVisited (last viewed product) to the next # products perPage i.e. if 10 and on page 4 it would slice(40, 50)\n  // const displayProd = (currentPg, arrToPaginate) => {\n  //   const productPerPg = 5;\n  //   console.log(\"inbound Arr \", { arrToPaginate });\n  //   const paginatedArr = arrToPaginate.slice(\n  //     currentPg * productPerPg,\n  //     (currentPg + 1) * productPerPg\n  //   );\n  //   console.log(\"outbound paginatedArr\", { paginatedArr });\n  //   return paginatedArr;\n  // };\n\n  // determines how many pages in our pagination depending on product length\n  // const pageCount = Math.ceil(displayProd.length / prodPerPage);\n\n  // const changePage = ({ selected }) => {\n  //   setPageNum(selected);\n  // };\n\n  return (\n    <div className=\"my-2\">\n      <h2>Our Products:</h2>\n\n      {state.products.length ? (\n        <div className=\"flex-row-shop\">\n          {filterProducts().map((product, index) => (\n            <ProductItem\n              key={product._id}\n              _id={product._id}\n              image={product.image}\n              name={product.name}\n              price={product.price}\n            />\n          ))}\n        </div>\n      ) : (\n        <h3>You haven't added any products yet!</h3>\n      )}\n      {loading ? <Loading /> : null}\n    </div>\n  );\n}\n\nexport default ProductList;\n\n{\n  /* <ReactPaginate\n          previousLabel={'Previous'}\n          nextLabel={'Next'}\n          pageCount={pageCount}\n          onPageChange={changePage}\n          containerClassName={'paginationBtnns'}\n          previousLinkClassName={'prevBtn'}\n          nextLinkClassName={'nextBtnn'}\n          activeClassName={'activePagination'}\n          disabledClassName={'disabledPagination'}/> */\n}\n","import React, { useEffect } from 'react';\nimport { useQuery } from '@apollo/client';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport {\n  UPDATE_CATEGORIES,\n  UPDATE_CURRENT_CATEGORY,\n} from '../../utils/actions';\nimport { QUERY_CATEGORIES } from '../../utils/queries';\nimport { idbPromise } from '../../utils/helpers';\nimport SpaIcon from '@material-ui/icons/Spa';\n\nfunction CategoryMenu() {\n  const [state, dispatch] = useStoreContext();\n\n  const { categories } = state;\n\n  const { loading, data: categoryData } = useQuery(QUERY_CATEGORIES);\n\n  useEffect(() => {\n    if (categoryData) {\n      dispatch({\n        type: UPDATE_CATEGORIES,\n        categories: categoryData.categories,\n      });\n      categoryData.categories.forEach((category) => {\n        idbPromise('categories', 'put', category);\n      });\n    } else if (!loading) {\n      idbPromise('categories', 'get').then((categories) => {\n        dispatch({\n          type: UPDATE_CATEGORIES,\n          categories: categories,\n        });\n      });\n    }\n  }, [categoryData, loading, dispatch]);\n\n  const handleClick = (id) => {\n    dispatch({\n      type: UPDATE_CURRENT_CATEGORY,\n      currentCategory: id,\n    });\n  };\n\n \n\n  return (\n    <div>\n      <div className=\"sidebarWrapper\">\n        <div className=\"sidebarMenu\">\n          <h3 id=\"sidebarTitle\">Choose a Category:</h3>\n          <ul className=\"sidebarList\">\n            {categories.map((item) => (\n              <li\n                id=\"categoryLi\"\n                className=\"sidebarListItem categoryLi\"\n                key={item._id}\n                onClick={() => {\n                  handleClick(item._id);\n                }}\n              >\n                <SpaIcon id=\"categoryIcon\" />\n                {item.name}\n              </li>\n            ))}\n          </ul>\n\n        </div>\n      </div>\n\n      \n    </div>\n  );\n}\n\nexport default CategoryMenu;\n","import React from 'react';\nimport { useStoreContext } from \"../../utils/GlobalState\";\nimport { REMOVE_FROM_CART, UPDATE_CART_QUANTITY } from \"../../utils/actions\";\nimport { idbPromise } from \"../../utils/helpers\";\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst CartItem = ({ item }) => {\n\n  const [, dispatch] = useStoreContext();\n\n  const removeFromCart = item => {\n    dispatch({\n      type: REMOVE_FROM_CART,\n      _id: item._id\n    });\n    idbPromise('cart', 'delete', { ...item });\n\n  };\n\n  const onChange = (e) => {\n    const value = e.target.value;\n    if (value === '0') {\n      dispatch({\n        type: REMOVE_FROM_CART,\n        _id: item._id\n      });\n      idbPromise('cart', 'delete', { ...item });\n\n    } else {\n      dispatch({\n        type: UPDATE_CART_QUANTITY,\n        _id: item._id,\n        purchaseQuantity: parseInt(value)\n      });\n      idbPromise('cart', 'put', { ...item, purchaseQuantity: parseInt(value) });\n\n    }\n  }\n\n  return (\n    <div className=\"\">\n      <div>\n        <img\n          src={`/s3images/${item.image}`}\n          alt=\"\"\n        />\n      </div>\n      <div>\n        <div className=\"cardTitle\">{item.name}, ${item.price}</div>\n        <div>\n          <span> Quantity:\n          <input\n            type=\"number\"\n            placeholder=\"1\"\n            value={item.purchaseQuantity}\n            onChange={onChange}\n          /></span>\n          <span\n            role=\"img\"\n            aria-label=\"trash\"\n            onClick={() => removeFromCart(item)}\n          >\n            <DeleteIcon id=\"trashIcon\"/>\n          </span>\n        </div>\n      </div>\n    \n    </div>\n  );\n}\n\nexport default CartItem;","import decode from 'jwt-decode';\n\nclass AuthService {\n  getProfile() {\n    return decode(this.getToken());\n  }\n  isSeller (){\n    const data = decode(this.getToken());\n    const role = data.data.role;\n    if(role !== 'seller'){\n      return false\n    }\n    return true;\n  }\n\n  loggedIn() {\n    // Checks if there is a saved token and it's still valid\n    const token = this.getToken();\n    return !!token && !this.isTokenExpired(token);\n  }\n\n  isTokenExpired(token) {\n    try {\n      const decoded = decode(token);\n      if (decoded.exp < Date.now() / 1000) {\n        return true;\n      } else return false;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  getToken() {\n    // Retrieves the user token from localStorage\n    return localStorage.getItem('id_token');\n  }\n\n  login(idToken) {\n    // Saves user token to localStorage\n    localStorage.setItem('id_token', idToken);\n\n    const token = this.getProfile();\n    console.log(token);\n\n    if(token.data.role === \"admin\") {\n      window.location.assign('/dashboard');\n    }else if (token.data.role === \"seller\") {\n      window.location.assign('/seller/home');\n    } else { window.location.assign('/')} \n  }\n\n  logout() {\n    // Clear user token and profile data from localStorage\n    localStorage.removeItem('id_token');\n    // this will reload the page and reset the state of the application\n    window.location.assign('/');\n  }\n}\n\nexport default new AuthService();\n","import React, { useEffect } from 'react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { useLazyQuery } from '@apollo/client';\nimport { QUERY_CHECKOUT } from '../../utils/queries';\nimport { idbPromise } from '../../utils/helpers';\nimport CartItem from '../CartItem';\nimport Auth from '../../utils/auth';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport { TOGGLE_CART, ADD_MULTIPLE_TO_CART } from '../../utils/actions';\nimport './style.css';\nimport Avatar from \"@material-ui/core/Avatar\"\nimport CloseIcon from '@material-ui/icons/Close';\nimport { AppBar, Toolbar } from '@material-ui/core';\n\nconst stripePromise = loadStripe('pk_test_51K0BxZKLr0iD6VeBK9jLkCn1oalSRd6CSIoOJaXXF9Qlx8ScXKDm2NpARCSD0muwsObIgaLX2kIfPB8CdPRn3jEb005EXOkxIX');\n\nconst Cart = () => {\n  const [state, dispatch] = useStoreContext();\n  const [getCheckout, { data }] = useLazyQuery(QUERY_CHECKOUT);\n\n  useEffect(() => {\n    if (data) {\n      stripePromise.then((res) => {\n        res.redirectToCheckout({ sessionId: data.checkout.session });\n      });\n    }\n  }, [data]);\n\n  useEffect(() => {\n    async function getCart() {\n      const cart = await idbPromise('cart', 'get');\n      dispatch({ type: ADD_MULTIPLE_TO_CART, products: [...cart] });\n    }\n\n    if (!state.cart.length) {\n      getCart();\n    }\n  }, [state.cart.length, dispatch]);\n\n  function toggleCart() {\n    dispatch({ type: TOGGLE_CART });\n  }\n\n  function calculateTotal() {\n    let sum = 0;\n    state.cart.forEach((item) => {\n      sum += item.price * item.purchaseQuantity;\n    });\n    return sum.toFixed(2);\n  }\n\n  function submitCheckout() {\n    const productIds = [];\n\n    state.cart.forEach((item) => {\n      for (let i = 0; i < item.purchaseQuantity; i++) {\n        productIds.push(item._id);\n      }\n    });\n\n    getCheckout({\n      variables: { products: productIds },\n    });\n  }\n\n  if (!state.cartOpen) {\n    return (\n    \n      <div className=\"cart-closed\" onClick={toggleCart}>\n        <Avatar alt=\"shopping cart\" src=\"/images/plantshopping.jpg\"/>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"cart\">\n      <div className=\"close\" onClick={toggleCart}>\n        <CloseIcon className=\"closeBtn\" />\n      </div>\n      <h2 className=\"cartTitle\">Shopping Cart</h2>\n      {state.cart.length ? (\n        <div>\n          {state.cart.map((item) => (\n            <CartItem key={item._id} item={item} />\n          ))}\n\n          <div className=\"flex-row space-between\">\n            <strong>Total: ${calculateTotal()}</strong>\n\n            {Auth.loggedIn() ? (\n              <button onClick={submitCheckout}>Checkout</button>\n            ) : (\n              <span>(log in to check out)</span>\n            )}\n          </div>\n        </div>\n      ) : (\n        <h3>\n          {/* <span role=\"img\" aria-label=\"shocked\">\n            😱\n          </span> */}\n          <Avatar \n          id=\"sadPlant\" \n          alt=\"sad plant\" \n          src=\"/images/sad-plant.jpg\"/>\n          You haven't added anything to your cart yet! \n        </h3>\n      )}\n    </div>\n  );\n};\n\nexport default Cart;\n","import React from 'react'\nimport Carousel from 'react-material-ui-carousel'\nimport './landingSlide.css';\n// import { Paper, Button } from '@mui/material'\n\nfunction LandingSlide(props) {\n\n    const SlideImages = [\n        {\n          url: '../assets/pt2.png',\n          caption: 'Sell your produce'\n        },\n        {\n          url: '../assets/pt1.png',\n          caption: 'Trade propagations'\n        },\n        {\n          url: '../assets/pt3.png',\n          caption: 'Find community'\n        },\n      ]; \n\n    return (\n        <div>\n            <Carousel \n            next={ () => {/* Do stuff */} }\n            prev={ () => {/* Do other stuff */} }>\n            {SlideImages.map((slideImage, index)=> (\n            <div className=\"each-slide\" key={index}>\n              <div style={{'backgroundImage': `url(${slideImage.url})`}}>\n                <span>\n                  <p className=\"names\">\n                    {slideImage.caption}\n                  </p>  \n                </span>\n              </div>\n            </div>\n          ))} \n        </Carousel>\n\n        </div>\n    )\n}\n\nexport default LandingSlide","import React from 'react';\nimport './landing.css';\nimport './main.css';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LandingSlide from '../LandingSlide';\n// import LandingNav from '../LandingNav';\n\n\nfunction Landing() {\n\n    const useStyles = makeStyles((theme) => ({\n        root: {\n          flexGrow: 1,\n        },\n        paper: {\n          padding: theme.spacing(2),\n          textAlign: 'center',\n          color: theme.palette.text.secondary,\n        },\n      }));\n\n    const classes = useStyles();\n\n    return (\n        <div className = \"home\">\n            <Box >\n           <div className = \"home__bg\">\n            {/* <LandingNav/> */}\n            {/* home content */}\n            <div className={classes.root}>\n            <Box \n             px={{xs:1, sm:0}}\n             py={{xs:1, sm:0}}>\n                <Grid container spacing={1}>\n                <div className=\"home__content row\">\n                    <Grid item xs={12} sm={12} md={8}>\n                    <div className=\"home__meta\">\n                        \n                        <h2 className=\"home_text  plantIt\">\n                        Plant it\n                        </h2>\n                        <h3 className=\"home_text sweet  sellIt\">\n                         Sell it\n                        </h3>\n                    </div>\n                    <div className=\"home_meta\">\n                    <h1 className=\"home_text \">\n                        a propagator's paradise\n                        </h1>\n                    </div>\n                    </Grid>\n                    <Grid item xs={12} sm={12} md={4}>\n                     <LandingSlide/>\n                    </Grid>\n\n                </div>\n                </Grid>\n                </Box>\n            </div>\n           </div>\n           </Box>\n        </div>\n    )\n}\n\nexport default Landing;","import React from 'react';\nimport { Container, Grid, Box, Link } from '@material-ui/core';\nimport './footer.css';\n\nfunction Footer() {\n    return (\n        <div className=\"allFooter\">\n        <footer>\n            <Box \n            px={{xs:3, sm:10}}\n            py={{xs:3, sm:10}} \n            bgcolor= \"text.secondary\" \n            color=\"white\">\n                <Container>\n                    <Grid container spacing={3}>\n                        <Grid item xs={12} sm={4}>\n                            <Box borderBottom ={1}> HELP</Box>\n                            <Box>\n                                <Link href=\"/\" color=\"inherit\">\n                                    Contact\n                                </Link>\n                            </Box>\n                            <Box>\n                                <Link href=\"/\" color=\"inherit\">\n                                    Support\n                                </Link>\n                            </Box>\n                            <Box>\n                                <Link href=\"/\" color=\"inherit\">\n                                    Privacy\n                                </Link>\n                            </Box>\n                        </Grid>\n\n                        <Grid item xs={12} sm={4}>\n                            <Box borderBottom ={1}> SOCIALS</Box>\n                            <Box>\n                                <Link href=\"/\" color=\"inherit\">\n                                    Facebook\n                                </Link>\n                            </Box>\n                            <Box>\n                                <Link href=\"/\" color=\"inherit\">\n                                    Twitter\n                                </Link>\n                            </Box>\n                            <Box>\n                                <Link href=\"/\" color=\"inherit\">\n                                    Instagram\n                                </Link>\n                            </Box>\n                        </Grid>\n\n                        <Grid item xs={12} sm={4}>\n                            <Box borderBottom ={1}> BLOGS</Box>\n                            <Box>\n                                <Link href=\"/\" color=\"inherit\">\n                                Seedlings\n                                </Link>\n                            </Box>\n                            <Box>\n                                <Link href=\"/\" color=\"inherit\">\n                                Edible Flowers\n                                </Link>\n                            </Box>\n                            <Box>\n                                <Link href=\"/\" color=\"inherit\">\n                                Wild Plants\n                                </Link>\n                            </Box>\n                        </Grid>\n                    </Grid>\n\n                    <Box textAlign=\"center\" pt={{xs:2, sm:5}} pb={{xs:2, sm:0}}>\n\n                        Plant it - Sell it &reg; 2021\n                    </Box>\n\n                </Container>\n            </Box>\n        </footer>\n        </div>\n    )\n}\n\nexport default Footer\n","import React from \"react\";\nimport ProductList from \"../components/ProductList\";\nimport CategoryMenu from \"../components/CategoryMenu\";\nimport Cart from \"../components/Cart\";\nimport Landing from \"../components/Landing\";\nimport Footer from \"../components/Footer\";\n\n\nconst Home = () => {\n  return (\n    <div className=\"container\">\n    <Landing/>\n<Footer/>  \n    </div>\n  );\n};\n\nexport default Home;\n","import './sidebar.css'\nimport CategoryMenu from \"../CategoryMenu\";\nimport Cart from \"../Cart\";\n\n\nexport default function Sidebar() {\n    return (\n        <div className=\"sidebar\">\n\n            <CategoryMenu />\n            <Cart/>\n        </div>\n    )\n}","import React from \"react\";\nimport ProductList from \"../components/ProductList/index\";\nimport CategoryMenu from \"../components/CategoryMenu\";\nimport Cart from \"../components/Cart\";\nimport Sidebar from \"../components/Sidebar\"\n\nconst Shop = () => {\n  return (\n    <div className=\"shopContainer\">\n      <Sidebar />\n      <div className=\"others\">\n        <ProductList />\n      </div>\n    </div>\n  );\n};\n\nexport default Shop;\n","import React from 'react';\nimport \"./index.css\";\n\n\nimport { NotificationsNone, Language, Settings } from \"@material-ui/icons\";\n\n\n\n\nexport default function AdminTopbar() {\n    return (\n        <div className=\"topbar\">\n      <div className=\"topbarWrapper\">\n        <div className=\"topLeft\">\n          <span className=\"logo\">admin Dashboard</span>\n        </div>\n        <div className=\"topRight\">\n          <div className=\"topbarIconContainer\">\n            <NotificationsNone />\n            <span className=\"topIconBadge\">2</span>\n          </div>\n          <div className=\"topbarIconContainer\">\n            <Language />\n            <span className=\"topIconBadge\">2</span>\n          </div>\n          <div className=\"topbarIconContainer\">\n            <Settings />\n          </div>\n          <img src=\"/s3images/35afa876b7c427a1dbb26d44f25fd57b\" alt=\"\" className=\"topAvatar\" />\n        </div>\n      </div>\n    </div>\n    )\n}\n","import React from 'react'\nimport \"./adminSidebar.css\"\n\n\nimport {\n    LineStyle,\n    Timeline,\n    TrendingUp,\n    PermIdentity,\n    Storefront,\n    AttachMoney,\n    BarChart,\n    MailOutline,\n    DynamicFeed,\n    ChatBubbleOutline,\n    WorkOutline,\n    Report,\n  } from \"@material-ui/icons\";\n  import { Link } from \"react-router-dom\";\n  \n\nexport default function AdminSidebar() {\n    return (\n        <div className=\"sidebar\">\n      <div className=\"sidebarWrapper\">\n        <div className=\"sidebarMenu\">\n          <h3 className=\"sidebarTitle\">Dashboard</h3>\n          <ul className=\"sidebarList\">\n            <Link to=\"/seller/home\" className=\"link\">\n            <li className=\"sidebarListItem active\">\n              <LineStyle className=\"sidebarIcon\" />\n              Home\n            </li>\n            </Link>\n            <li className=\"sidebarListItem\">\n              <Timeline className=\"sidebarIcon\" />\n              Analytics\n            </li>\n            <li className=\"sidebarListItem\">\n              <TrendingUp className=\"sidebarIcon\" />\n              Sales\n            </li>\n          </ul>\n        </div>\n        <div className=\"sidebarMenu\">\n          <h3 className=\"sidebarTitle\">Quick Menu</h3>\n          <ul className=\"sidebarList\">\n            <Link to=\"/dashboard/users\" className=\"link\">\n              <li className=\"sidebarListItem\">\n                <PermIdentity className=\"sidebarIcon\" />\n                Users\n              </li>\n              </Link>\n            <Link to=\"/dashboard/products\" className=\"link\">\n              <li className=\"sidebarListItem\">\n                <Storefront className=\"sidebarIcon\" />\n                Products\n              </li>\n            </Link>\n            <li className=\"sidebarListItem\">\n              <AttachMoney className=\"sidebarIcon\" />\n              Transactions\n            </li>\n            <li className=\"sidebarListItem\">\n              <BarChart className=\"sidebarIcon\" />\n              Reports\n            </li>\n          </ul>\n        </div>\n        <div className=\"sidebarMenu\">\n          <h3 className=\"sidebarTitle\">Notifications</h3>\n          <ul className=\"sidebarList\">\n            <li className=\"sidebarListItem\">\n              <MailOutline className=\"sidebarIcon\" />\n              Mail\n            </li>\n            <li className=\"sidebarListItem\">\n              <DynamicFeed className=\"sidebarIcon\" />\n              Feedback\n            </li>\n            <li className=\"sidebarListItem\">\n              <ChatBubbleOutline className=\"sidebarIcon\" />\n              Messages\n            </li>\n          </ul>\n        </div>\n        <div className=\"sidebarMenu\">\n          <h3 className=\"sidebarTitle\">Staff</h3>\n          <ul className=\"sidebarList\">\n            <li className=\"sidebarListItem\">\n              <WorkOutline className=\"sidebarIcon\" />\n              Manage\n            </li>\n            <li className=\"sidebarListItem\">\n              <Timeline className=\"sidebarIcon\" />\n              Analytics\n            </li>\n            <li className=\"sidebarListItem\">\n              <Report className=\"sidebarIcon\" />\n              Reports\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n    )\n}\n","export const data = [\n    {\n      name: 'Jan',\n      \"sales in dollars\": 4000,\n    \n      \n    },\n    {\n      name: 'Feb',\n      \"sales in dollars\": 3000,\n    \n      \n    },\n    {\n      name: 'Mar',\n      \"sales in dollars\": 2000,\n    \n      \n    },\n    {\n      name: 'Apr',\n      \"sales in dollars\": 2780,\n    \n      \n    },\n    {\n      name: 'May',\n      \"sales in dollars\": 1890,\n    \n      \n    },\n    {\n      name: 'June',\n      \"sales in dollars\": 2390,\n    \n      \n    },\n   \n  ];\n\n  export const productRows = [\n    {\n      id: 1,\n      name: \"Oregano\",\n      img:\n        \"/images/1489734467e69ade4e8fe6cad5f1f351\",\n      stock: 123,\n      status: \"active\",\n      price: \"$120.00\",\n    },\n    {\n      id: 2,\n      name: \"Rosemary\",\n      img:\n        \"/images/f4a02957d07e1c05a4379ac088bc60f9\",\n      stock: 123,\n      status: \"active\",\n      price: \"$120.00\",\n    },\n    {\n      id: 3,\n      name: \"Spinach\",\n      img: \"/images/e1eac4fe197f030478a23048c0d7a30f\",\n      stock: 123,\n      status: \"active\",\n      price: \"$120.00\",\n    },\n    {\n      id: 4,\n      name: \"Cassava\",\n      img:\"/images/bda4cf82bf5692497d2002a0f9d28e8d\",\n      stock: 123,\n      status: \"active\",\n      price: \"$120.00\",\n    },\n    {\n      id: 5,\n      name: \"Eggplant\",\n      img:\"/images/4116cf977d7ec04aa8432a6e494dbd44\",\n      stock: 123,\n      status: \"active\",\n      price: \"$120.00\",\n    },\n    {\n      id: 6,\n      name: \"Sweet Potato\",\n      img:\"/images/df6453651200a7495cfe68ffccdf2a5a\",\n      stock: 123,\n      status: \"active\",\n      price: \"$120.00\",\n    },\n    {\n      id: 7,\n      name: \"New Dawn Rose\",\n      img:\"/images/b81b61f14dccf376c6e4877633ae95d5\",\n      stock: 123,\n      status: \"active\",\n      price: \"$120.00\",\n    },\n    {\n      id: 8,\n      name: \"Azalea\",\n      img:\"/images/cf4a84a256c96057c2f875e9d28e8792\",\n      stock: 123,\n      status: \"active\",\n      price: \"$120.00\",\n    },\n    {\n      id: 9,\n      name: \"Star Jasmine\",\n      img:\"/images/f413fb22b6af1932f5b5ab9fef43b7b5\",\n      stock: 123,\n      status: \"active\",\n      price: \"$120.00\",\n    },\n    {\n      id: 10,\n      name: \"Spider Plant\",\n      img:\"/images/7b395e1a376ec72387d7624c0dfef048\",\n      stock: 123,\n      status: \"active\",\n      price: \"$120.00\",\n    },\n  ];\n  export const productData = [\n    {\n      name: \"Jan\",\n      \"Sales\": 4000,\n    },\n    {\n      name: \"Feb\",\n      \"Sales\": 3000,\n    },\n    {\n      name: \"Mar\",\n      \"Sales\": 5000,\n    },\n  ];","import React from 'react'\nimport './sellerFeaturedInfo.css'\n\nimport { ArrowDownward, ArrowUpward } from \"@material-ui/icons\";\n\nexport default function SellerFeaturedInfo() {\n    return (\n        <div className=\"featured\">\n      <div className=\"featuredItem\">\n        <span className=\"featuredTitle\">Revenue</span>\n        <div className=\"featuredMoneyContainer\">\n          <span className=\"featuredMoney\">$2,415</span>\n          <span className=\"featuredMoneyRate\">\n            -11.4 <ArrowDownward  className=\"featuredIcon negative\"/>\n          </span>\n        </div>\n        <span className=\"featuredSub\">Compared to last month</span>\n      </div>\n      <div className=\"featuredItem\">\n        <span className=\"featuredTitle\">Sales</span>\n        <div className=\"featuredMoneyContainer\">\n          <span className=\"featuredMoney\">$4,415</span>\n          <span className=\"featuredMoneyRate\">\n            -1.4 <ArrowDownward className=\"featuredIcon negative\"/>\n          </span>\n        </div>\n        <span className=\"featuredSub\">Compared to last month</span>\n      </div>\n      <div className=\"featuredItem\">\n        <span className=\"featuredTitle\"> Shipping Costs</span>\n        <div className=\"featuredMoneyContainer\">\n          <span className=\"featuredMoney\">$2,225</span>\n          <span className=\"featuredMoneyRate\">\n            +2.4 <ArrowUpward className=\"featuredIcon\"/>\n          </span>\n        </div>\n        <span className=\"featuredSub\">Compared to last month</span>\n      </div>\n    </div>\n    )\n}\n","import React from 'react'\nimport { LineChart, Line, XAxis,  CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\n\nimport \"./sellerChart.css\"\n\n\n\nexport default function SellerChart({title, data, dataKey, grid}) {\n\n    \n      \n\n    return (\n        <div className='sellerChart'>\n            <h3 className='sellerChartTitle'> {title}</h3>\n            <ResponsiveContainer width='100%' aspect={4/1}>\n                <LineChart data={data}>\n                    <XAxis dataKey='name' stroke=\"#5550bd\"></XAxis>\n                    <Line type='monotone' dataKey={dataKey} stroke='#5550bd'></Line>\n                    <Tooltip/>\n                    {grid && <CartesianGrid stroke='#e0dfdf' strokeDasharray='5 5'/>}\n                </LineChart>\n            </ResponsiveContainer>\n        </div>\n    )\n}\n","import React from 'react'\nimport { Visibility } from \"@material-ui/icons\";\n\nimport './sellerWidgetSm.css'\n\nexport default function SellerWidgetSm() {\n    return (\n        <div className='sellerWidgetSm'>\n            <span className=\"widgetSmTitle\">Pending Orders</span>\n      <ul className=\"widgetSmList\">\n        <li className=\"widgetSmListItem\">\n          <img\n            src=\"/s3images/e28b6ab31d08fa014c06532447305e97\"\n            alt=\"\"\n            className=\"widgetSmImg\"\n          />\n          <div className=\"widgetSmPendingOrders\">\n            <span className=\"widgetSmProduct\">Golden Pothos</span>\n            <span className=\"widgetSmOrder\">Order Placed: <span className=\"widgetSmOrderDate\"> 11/30/2020</span></span>\n          </div>\n          <button className=\"widgetSmButton\">\n            <Visibility className=\"widgetSmIcon\" />\n            Display\n          </button>\n        </li>\n        <li className=\"widgetSmListItem\">\n          <img\n            src=\"/s3images/e28b6ab31d08fa014c06532447305e97\"\n            alt=\"\"\n            className=\"widgetSmImg\"\n          />\n          <div className=\"widgetSmPendingOrders\">\n            <span className=\"widgetSmProduct\">Golden Pothos</span>\n            <span className=\"widgetSmOrder\">Ordered on: <span className=\"widgetSmOrderDate\"> 11/30/2020</span></span>\n          </div>\n          <button className=\"widgetSmButton\">\n            <Visibility className=\"widgetSmIcon\" />\n            Display\n          </button>\n        </li>\n        <li className=\"widgetSmListItem\">\n          <img\n            src=\"/s3images/e28b6ab31d08fa014c06532447305e97\"\n            alt=\"\"\n            className=\"widgetSmImg\"\n          />\n          <div className=\"widgetSmPendingOrders\">\n            <span className=\"widgetSmProduct\">Golden Pothos</span>\n            <span className=\"widgetSmOrder\">Ordered on: <span className=\"widgetSmOrderDate\"> 11/30/2020</span></span>\n          </div>\n          <button className=\"widgetSmButton\">\n            <Visibility className=\"widgetSmIcon\" />\n            Display\n          </button>\n        </li>\n        <li className=\"widgetSmListItem\">\n          <img\n            src=\"/s3images/e28b6ab31d08fa014c06532447305e97\"\n            alt=\"\"\n            className=\"widgetSmImg\"\n          />\n          <div className=\"widgetSmPendingOrders\">\n            <span className=\"widgetSmProduct\">Golden Pothos</span>\n            <span className=\"widgetSmOrder\">Ordered on: <span className=\"widgetSmOrderDate\"> 11/30/2020</span></span>\n          </div>\n          <button className=\"widgetSmButton\">\n            <Visibility className=\"widgetSmIcon\" />\n            Display\n          </button>\n        </li>\n        <li className=\"widgetSmListItem\">\n          <img\n            src=\"/s3images/e28b6ab31d08fa014c06532447305e97\"\n            alt=\"\"\n            className=\"widgetSmImg\"\n          />\n          <div className=\"widgetSmPendingOrders\">\n            <span className=\"widgetSmProduct\">Golden Pothos</span>\n            <span className=\"widgetSmOrder\">Ordered on: <span className=\"widgetSmOrderDate\"> 11/30/2020</span></span>\n          </div>\n          <button className=\"widgetSmButton\">\n            <Visibility className=\"widgetSmIcon\" />\n            Display\n          </button>\n        </li>\n      </ul>\n        </div>\n    )\n}\n","import React from 'react'\n\nimport './sellerWidgetLg.css'\n\nexport default function SellerWidgetLg() {\n    const Button = ({ type }) => {\n        return <button className={\"widgetLgButton \" + type}>{type}</button>;\n      };\n      return (\n        <div className=\"sellerWidgetLg\">\n          <h3 className=\"widgetLgTitle\">Latest transactions</h3>\n          <table className=\"widgetLgTable\">\n            <tr className=\"widgetLgTr\">\n              <th className=\"widgetLgTh\">Customer</th>\n              <th className=\"widgetLgTh\">Date</th>\n              <th className=\"widgetLgTh\">Amount</th>\n              <th className=\"widgetLgTh\">Payment Status</th>\n            </tr>\n            <tr className=\"widgetLgTr\">\n              <td className=\"widgetLgUser\">\n                <img\n                  src=\"/s3images/175d1aa9872afbf7bf013db062c13e62\"\n                  alt=\"\"\n                  className=\"widgetLgImg\"\n                />\n                <span className=\"widgetLgName\">Susan Carol</span>\n              </td>\n              <td className=\"widgetLgDate\">2 Jun 2021</td>\n              <td className=\"widgetLgAmount\">$122.00</td>\n              <td className=\"widgetLgStatus\">\n                <Button type=\"Approved\" />\n              </td>\n            </tr>\n            <tr className=\"widgetLgTr\">\n              <td className=\"widgetLgUser\">\n                <img\n                  src=\"/s3images/175d1aa9872afbf7bf013db062c13e62\"\n                  alt=\"\"\n                  className=\"widgetLgImg\"\n                />\n                <span className=\"widgetLgName\">Susan Carol</span>\n              </td>\n              <td className=\"widgetLgDate\">2 Jun 2021</td>\n              <td className=\"widgetLgAmount\">$122.00</td>\n              <td className=\"widgetLgStatus\">\n                <Button type=\"Declined\" />\n              </td>\n            </tr>\n            <tr className=\"widgetLgTr\">\n              <td className=\"widgetLgUser\">\n                <img\n                  src=\"/s3images/175d1aa9872afbf7bf013db062c13e62\"\n                  alt=\"\"\n                  className=\"widgetLgImg\"\n                />\n                <span className=\"widgetLgName\">Susan Carol</span>\n              </td>\n              <td className=\"widgetLgDate\">2 Jun 2021</td>\n              <td className=\"widgetLgAmount\">$122.00</td>\n              <td className=\"widgetLgStatus\">\n                <Button type=\"Pending\" />\n              </td>\n            </tr>\n            <tr className=\"widgetLgTr\">\n              <td className=\"widgetLgUser\">\n                <img\n                  src=\"/s3images/175d1aa9872afbf7bf013db062c13e62\"\n                  alt=\"\"\n                  className=\"widgetLgImg\"\n                />\n                <span className=\"widgetLgName\">Susan Carol</span>\n              </td>\n              <td className=\"widgetLgDate\">2 Jun 2021</td>\n              <td className=\"widgetLgAmount\">$122.00</td>\n              <td className=\"widgetLgStatus\">\n                <Button type=\"Approved\" />\n              </td>\n            </tr>\n          </table>\n        </div>\n      );\n}\n","import React from 'react'\nimport './sellerHome.css'\n\nimport { data } from '../../components/SellerChart/dummyData';\n\nimport SellerFeaturedInfo from '../../components/SellerFeaturedInfo'\nimport SellerChart from '../../components/SellerChart'\nimport SellerWidgetSm from '../../components/SellerWidgetSm';\nimport SellerWidgetLg from '../../components/SellerWidgetLg';\n\n\nexport default function SellerHome() {\n    return (\n        <div className='sellerHome'>\n            <SellerFeaturedInfo/>\n            <SellerChart title= {\"Sales Data\"} data={data} grid dataKey='sales in dollars' />\n            <div className='sellerHomeWidgets'>\n        <SellerWidgetSm/>\n        <SellerWidgetLg/>\n            </div>\n        </div>\n    )\n}\n","import React from 'react'\n\nimport { DataGrid } from \"@material-ui/data-grid\";\nimport { DeleteOutline } from \"@material-ui/icons\";\nimport { productRows } from '../../components/SellerChart/dummyData';\nimport { Link } from \"react-router-dom\";\nimport { useState, useEffect} from \"react\";\nimport { QUERY_USERS } from '../../utils/queries';\nimport { idbPromise } from '../../utils/helpers';\nimport { useQuery, useLazyQuery } from \"@apollo/client\";\n\nimport \"./adminUserList.css\"\n\nexport default function AdminUserList() {\n  const { loading, error, data } = useQuery(QUERY_USERS);\n  const [usersdata, setUsersdata] = useState([]);\n \n  useEffect(() => {\n    if (data) {\n      console.log(data)\n      const users = data.users.map(p => {\n        return {\n          id: p._id,\n          firstName: p.firstName,\n          lastName: p.lastName,\n          orders: p.orders.length,\n          listings: p.listings.length\n\n\n          \n        }});\n    \n      setUsersdata(users)\n      console.log(users)\n      \n      }\n     else if (!loading) {\n       console.log(\"failed\")\n     \n    }\n   \n  }, [data, loading]);\n      \n\n    const handleDelete = (_id) => {\n      setUsersdata(usersdata.filter((item) => item._id !== _id));\n    };\n  \n    const columns = [\n      \n      \n           {\n        field: \"firstName\",\n        headerName: \"First Name\",\n        width: 150,\n      },\n      { field: \"lastName\", headerName: \"Last Name\", width: 150 },\n      {\n        field: \"orders\",\n        headerName: \"Orders\",\n        width: 160,\n      },\n      {\n        field: \"listings\",\n        headerName: \"Listings\",\n        width: 160,\n      },\n      {\n        field: \"action\",\n        headerName: \"Action\",\n        width: 150,\n        renderCell: (params) => {\n          return (\n            <>\n              <Link to={\"user/\" + params.row.id}>\n                <button className=\"userListEdit\">Edit</button>\n              </Link>\n              <DeleteOutline\n                className=\"userListDelete\"\n                onClick={() => handleDelete(params.row.id)}\n              />\n            </>\n          );\n        },\n      },\n    ];\n\n    return (\n        <div className='adminUserList'>\n             <DataGrid\n        rows={usersdata}\n        disableSelectionOnClick\n        columns={columns}\n        pageSize={10}\n        \n      />\n        </div>\n    )\n}","import { gql } from \"@apollo/client\";\n\nexport const LOGIN = gql`\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n`;\n\nexport const ADD_ORDER = gql`\n  mutation addOrder($products: [ID]!) {\n    addOrder(products: $products) {\n      purchaseDate\n      products {\n        _id\n        name\n        description\n        price\n         category {\n          name\n        }\n      }\n    }\n  }\n`;\n\nexport const ADD_USER = gql`\n  mutation addUser(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n    $state: String\n    $city: String\n    $address: String\n    $zip: String\n  ) {\n    addUser(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n      state: $state\n      city: $city\n      address: $address\n      zip: $zip\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n`;\n\nexport const ADD_PRODUCT = gql`\n  mutation addProduct(\n    $name: String!\n    $description: String\n    $category: ID!\n    $price: Float!\n    $sellerId: ID!\n    $image: String!\n  ) {\n    addProduct(\n      name: $name\n      category: $category\n      price: $price\n      sellerId: $sellerId\n      image: $image\n      description: $description\n    ) {\n      _id\n      name\n      description\n      image\n      price\n      category {\n        _id\n      }\n      sellerId {\n        _id\n      }\n      sold\n    }\n  }\n`;\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  TextField,\n  InputLabel,\n  FormHelperText,\n  FormControl,\n  Select,\n  NativeSelect,\n  makeStyles,\n  Button,\n} from \"@material-ui/core\";\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport { idbPromise } from \"../../utils/helpers\";\nimport Resizer from \"react-image-file-resizer\";\n\n//S3 axios import for making call to post image\nimport axios from \"axios\";\n\nimport Auth from \"../../utils/auth\";\n\n//import addProduct mutation\nimport { ADD_PRODUCT } from \"../../utils/mutations\";\n\n//import cat query to get ids to pass back w/ new obj\nimport { QUERY_CATEGORIES } from \"../../utils/queries\";\n\n//async fnc to post image to server via multer\nasync function postImage({ image, description }) {\n  const formData = new FormData();\n  formData.append(\"image\", image);\n  formData.append(\"description\", description);\n\n  const result = await axios.post(\"/s3images\", formData, {\n    headers: { \"Content-Type\": \"multipart/form-data\" },\n  });\n  return result.data;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    margin: theme.spacing(2),\n    minWidth: 120,\n    marginTop: \"10px\",\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nfunction ProductForm() {\n  const classes = useStyles();\n  const sellerId = Auth.getProfile();\n  // console.log(sellerId.data._id);\n  //try to capture prod details as one object to send\n  const [product, setProduct] = useState({\n    name: \"\",\n    description: \"\",\n    imagePath: \"\",\n    price: 0,\n    category: \"\",\n    sellerId: sellerId.data._id,\n    \n  });\n  console.log(product);\n\n  //capture catIds to pass into form\n  const { loading, data } = useQuery(QUERY_CATEGORIES);\n  // console.log(data);\n\n  const [catIds, setCatIds] = useState([]);\n  // setCatIds(data.categories);\n  // console.log(catIds);\n\n  useEffect(() => {\n    if (data) {\n      const categories = data.categories;\n      setCatIds(categories);\n      categories.forEach((category) => {\n        idbPromise(\"prodCategories\", \"put\", category);\n      });\n    } else if (!loading) {\n      idbPromise(\"prodCategories\", \"get\").then((categories) => {\n        setCatIds(categories);\n      });\n    }\n  }, [data, loading]);\n\n  const handleChange = (event) => {\n    event.preventDefault();\n\n    //try capturing all in one object\n    setProduct({\n      ...product,\n      \n      [event.target.name]: event.target.value,\n    });\n    // console.log(product);\n  };\n\n  //s3 image upload state & event handlers\n  const [file, setFile] = useState();\n  const [description, setDescription] = useState(\"\");\n  const [images, setImages] = useState([]);\n  \n\n  // console.log(images);\n\n  const [addProduct] = useMutation(ADD_PRODUCT);\n\n  const submit = async (event) => {\n    event.preventDefault();\n    //add error handling\n    try {\n      // console.log(\"product created\", product);\n      //send image to s3 bucket first to get back path to store in MongoDB\n      const result = await postImage({ image: file, description });\n      // console.log(result.imagePath.split('/').filter(entry => entry !== ''));\n\n      // split path to get back just the numbers & filter out empty strings\n      const paths = result.imagePath.split(\"/\").filter((entry) => entry !== \"\");\n\n      //from those grab the last path in the array\n      const s3path = paths[paths.length - 1];\n      // console.log(s3path)\n\n      //set the product imagePath to the path sent back from S3\n      product.imagePath = s3path;\n      setProduct({\n        ...product,\n      });\n      // console.log(\"product with imagePath\", product);\n\n      setImages([result, ...images]);\n      // console.log(product);\n      // send to mongodb via apollo\n      console.log(typeof product.price)\n      const float = parseFloat(product.price);\n      \n      \n      console.log(product);\n      const mutationResponse = await addProduct({\n        variables: {\n          name: product.name,\n          description: product.description,\n          category: product.category,\n          price: float,\n          sellerId: product.sellerId,\n          image: product.imagePath,\n          \n        },\n      });\n      // console.log(mutationResponse);\n\n\n      const prodID = mutationResponse.data.addProduct._id;\n\n      setProduct({\n        name: \"\",\n        description: \"\",\n        imagePath: \"\",\n        price: \"\",\n        category: \"\",\n        sellerId: sellerId.data._id,\n      });\n      window.location.assign(`/seller/product/${prodID}`)\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const fileSelected = async (event) => {\n    const file = event.target.files[0];\n\n    //resize image file\n    const image = await resizeFile(file);\n    // console.log(image);\n    const newFile = dataURIToBlob(image);\n\n    // pass resized file to setFile state handler which will pass it to postImage()\n    setFile(newFile);\n  };\n  /// ends here\n\n  //resizer functions\n  const resizeFile = (file) =>\n    new Promise((resolve) => {\n      Resizer.imageFileResizer(\n        file,\n        600,\n        600,\n        \"JPEG\",\n        80,\n        0,\n        (uri) => {\n          resolve(uri);\n        },\n        \"base64\"\n      );\n    });\n\n  const dataURIToBlob = (dataURI) => {\n    const splitDataURI = dataURI.split(\",\");\n    const byteString =\n      splitDataURI[0].indexOf(\"base64\") >= 0\n        ? atob(splitDataURI[1])\n        : decodeURI(splitDataURI[1]);\n    const mimeString = splitDataURI[0].split(\":\")[1].split(\";\")[0];\n    const ia = new Uint8Array(byteString.length);\n    for (let i = 0; i < byteString.length; i++)\n      ia[i] = byteString.charCodeAt(i);\n    return new Blob([ia], { type: mimeString });\n  };\n\n  return (\n    <div>\n      {Auth.loggedIn() ? (\n        <>\n          <h4></h4>\n          {/* form for S2 image upload */}\n\n          <form\n            onSubmit={submit}\n            noValidate\n            autoComplete=\"off\"\n            className={classes.formControl}\n          >\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Name of Product\"\n              variant=\"outlined\"\n              name=\"name\"\n              value={product.name}\n              onChange={handleChange}\n              className={classes.formControl}\n            />\n            <TextField\n              id=\"outlined-textarea\"\n              label=\"Product Description\"\n              placeholder=\"description\"\n              multiline\n              variant=\"outlined\"\n              name=\"description\"\n              value={product.description}\n              onChange={handleChange}\n              className={classes.formControl}\n            />\n            <TextField\n              id=\"outlined-basic\"\n              variant=\"outlined\"\n              onChange={fileSelected}\n              type=\"file\"\n              accept=\"image/*\"\n              className={classes.formControl}\n            ></TextField>\n            {/* <TextField\n                id=\"outlined-basic\"\n                label=\"image description\"\n                variant=\"outlined\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                type=\"text\"\n              ></TextField> */}\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Price\"\n              variant=\"outlined\"\n              name=\"price\"\n              value={product.price}\n              onChange={handleChange}\n              type=\"number\"\n              className={classes.formControl}\n            />\n            <FormControl variant=\"outlined\" className={classes.formControl}>\n              <InputLabel htmlFor=\"outlined-age-native-simple\">\n                Category\n              </InputLabel>\n              <Select\n                native\n                value={product.category}\n                onChange={handleChange}\n                label=\"category\"\n                inputProps={{ name: \"category\" }}\n              >\n                <option aria-label=\"None\" value=\"\" />\n                {catIds.map((cat) => (\n                  <option key={cat._id} value={cat._id}>\n                    {cat.name}\n                  </option>\n                ))}\n                {/* <option value=\"herbs\">Herbs</option> */}\n                {/* <option value=\"Vegetables\">Vegetables </option> */}\n                {/* <option value=\"House Plants\">House Plants</option> */}\n                {/* <option value=\"Flowering Plants\">Flowering Plants</option> */}\n                {/* <option value=\"Succulents\">Succulents</option> */}\n              </Select>\n            </FormControl>{\" \"}\n            <br />\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              type=\"submit\"\n              className={classes.formControl}\n            >\n              Submit\n            </Button>\n          </form>\n          {/* display images that have been uploaded */}\n          {/* {images.map((image, index) => (\n              <div key={index}>\n                <img src={image.imagePath}></img>\n              </div>\n            ))} */}\n            \n        </>\n      ) : (\n        <p>\n          You need to be logged in to create a Product. Please login{\" \"}\n          <Link to=\"/login\">login</Link> or <Link to=\"/signup\">signup.</Link>\n        </p>\n      )}\n    </div>\n  );\n}\n\nexport default ProductForm;\n","import React from \"react\";\nimport ProductForm from '../../components/ProductForm/index.jsx'\n\nimport './newProduct.css'\n\nconst NewProduct = () => {\n  return (\n    <div className=\"newProduct\">\n        <h1 className='newProdTitle'> Add New Product</h1>\n        <ProductForm/>\n    </div>\n  );\n};\n\nexport default NewProduct;","import React from 'react'\n\nimport { DataGrid } from \"@material-ui/data-grid\";\nimport { DeleteOutline } from \"@material-ui/icons\";\nimport { productRows } from '../../components/SellerChart/dummyData';\nimport { Link } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { QUERY_ALL_PRODUCT_DATA } from '../../utils/queries';\nimport { idbPromise } from '../../utils/helpers';\nimport { useQuery, useLazyQuery } from \"@apollo/client\";\n\nimport \"./adminProductList.css\"\n\nexport default function AdminProductList() {\n  const { loading, error, data } = useQuery(QUERY_ALL_PRODUCT_DATA);\n  const [productdata, setProductdata] = useState([]);\n\n  useEffect(() => {\n    if (data) {\n      console.log(data)\n      const products = data.allProducts.map(p => {\n\n        return {\n\n          id: p._id,\n          name: p.name,\n          price: p.price,\n          sold: p.sold,\n          description: p.description,\n          seller: p.sellerId\n\n        }\n      });\n\n\n      setProductdata(products)\n\n\n    }\n    else if (!loading) {\n      console.log(\"failed\")\n\n    }\n\n  }, [data, loading]);\n\n\n  const handleDelete = (_id) => {\n    setProductdata(productdata.filter((item) => item._id !== _id));\n  };\n\n  const columns = [\n\n\n    {\n      field: \"name\",\n      headerName: \"Name\",\n      width: 150,\n    },\n    {\n      field: \"description\",\n      headerName: \"Description\",\n      width: 150,\n    },\n    { field: \"sold\", headerName: \"Sold\", width: 150 },\n    {\n      field: \"price\",\n      headerName: \"Price\",\n      width: 160,\n    },\n    // {\n    //   field: \"seller\",\n    //   headerName: \"SellerID\",\n    //   width: 160,\n    // },\n\n    {\n      field: \"action\",\n      headerName: \"Action\",\n      width: 150,\n      renderCell: (params) => {\n        return (\n          <>\n            <Link to={\"user/\" + params.row.id}>\n              <button className=\"userListEdit\">Edit</button>\n            </Link>\n            <DeleteOutline\n              className=\"userListDelete\"\n              onClick={() => handleDelete(params.row.id)}\n            />\n          </>\n        );\n      },\n    },\n  ];\n\n  return (\n    <div className='adminUserList'>\n      <DataGrid\n        rows={productdata}\n        disableSelectionOnClick\n        columns={columns}\n        pageSize={10}\n\n      />\n    </div>\n  )\n}","import React from \"react\";\nimport { Route } from 'react-router-dom';\n\nimport \"./dash.css\"\nimport auth from \"../../utils/auth\";\nimport AdminTopbar from \"../../components/AdminTopbar\";\nimport AdminSidebar from \"../../components/AdminSidebar\"\n\nimport SellerHome from \"../SellerHome/SellerHome\";\n\nimport AdminUserList from \"../AdminUserList/AdminUserList\"\nimport NewProduct from \"../NewProduct/NewProduct\";\n\nimport AdminProductList from \"../AdminProductList/AdminProductList\"\n\n\nconst Dashboard = () => {\n  return (\n    <>\n      {auth.loggedIn() ? (\n        <>\n          <AdminTopbar />\n          <div className='mycontainer'>\n            <AdminSidebar />\n            <Route exact path=\"/seller/home\">\n              <SellerHome />\n            </Route>\n            <Route\n             exact path=\"/dashboard/users\"\n              component={AdminUserList} />\n            <Route exact path=\"/dashboard/products\" component={AdminProductList} />\n            <Route exact path=\"/seller/addProduct\" component={NewProduct} />\n          </div>\n\n        </>\n      ) : (\n        <h3>\n          <span role=\"img\" aria-label=\"shocked\">\n            😱\n          </span>\n          You haven't added anything to your cart yet!\n        </h3>\n      )};\n\n    </>\n  );\n};\n\nexport default Dashboard;","import React from 'react';\nimport \"./index.css\";\nimport {Link} from 'react-router-dom';\n\nimport { NotificationsNone, Language, Settings,  } from \"@material-ui/icons\";\nimport StorefrontIcon from '@material-ui/icons/Storefront';\n\n\n\n\nexport default function SellerTopbar() {\n    return (\n        <div className=\"topbar\">\n      <div className=\"topbarWrapper\">\n        <div className=\"topLeft\">\n          <span className=\"logo\">Seller Dashboard</span>\n        </div>\n        <div className=\"topRight\">\n        <div className=\"topbarIconContainer\">\n          <Link to='/shop'>\n            <StorefrontIcon/>\n            </Link>\n          </div>\n          <div className=\"topbarIconContainer\">\n            <NotificationsNone />\n            <span className=\"topIconBadge\">2</span>\n          </div>\n          <div className=\"topbarIconContainer\">\n            <Language />\n            <span className=\"topIconBadge\">2</span>\n          </div>\n          <div className=\"topbarIconContainer\">\n            <Settings />\n          </div>\n          \n          <img src=\"/s3images/35afa876b7c427a1dbb26d44f25fd57b\" alt=\"\" className=\"topAvatar\" />\n        </div>\n      </div>\n    </div>\n    )\n}\n","import React from \"react\";\nimport \"./sellerSidebar.css\";\n\nimport auth from \"../../utils/auth\";\n\nimport {\n  LineStyle,\n  Timeline,\n  TrendingUp,\n  PermIdentity,\n  Storefront,\n  AttachMoney,\n  BarChart,\n  MailOutline,\n  DynamicFeed,\n  ChatBubbleOutline,\n  WorkOutline,\n  Report,\n  ExitToApp,\n  Store,\n} from \"@material-ui/icons\";\nimport { Link } from \"react-router-dom\";\n\nexport default function SellerSidebar() {\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebarWrapper\">\n        <div className=\"sidebarMenu\">\n          <h3 className=\"sidebarTitle\">Dashboard</h3>\n          <ul className=\"sidebarList\">\n            <Link to=\"/seller/home\" className=\"link\">\n              <li className=\"sidebarListItem\">\n                <LineStyle className=\"sidebarIcon\" />\n                Home\n              </li>\n            </Link>\n            <li className=\"sidebarListItem\">\n              <Timeline className=\"sidebarIcon\" />\n              Analytics\n            </li>\n            <li className=\"sidebarListItem\">\n              <TrendingUp className=\"sidebarIcon\" />\n              Sales\n            </li>\n          </ul>\n        </div>\n        <div className=\"sidebarMenu\">\n          <h3 className=\"sidebarTitle\">Quick Menu</h3>\n          <ul className=\"sidebarList\">\n            <Link to=\"/seller/products\" className=\"link\">\n              <li className=\"sidebarListItem\">\n                <Storefront className=\"sidebarIcon\" />\n                Products\n              </li>\n            </Link>\n            <li className=\"sidebarListItem\">\n              <AttachMoney className=\"sidebarIcon\" />\n              Transactions\n            </li>\n            <li className=\"sidebarListItem\">\n              <BarChart className=\"sidebarIcon\" />\n              Reports\n            </li>\n            <Link to=\"/shop\" className=\"link\">\n              <li className=\"sidebarListItem\">\n                <Store className=\"sidebarIcon\" />\n                Storefront\n              </li>\n            </Link>\n          </ul>\n        </div>\n        <div className=\"sidebarMenu\">\n          <h3 className=\"sidebarTitle\">Notifications</h3>\n          <ul className=\"sidebarList\">\n            <li className=\"sidebarListItem\">\n              <MailOutline className=\"sidebarIcon\" />\n              Mail\n            </li>\n            <li className=\"sidebarListItem\">\n              <DynamicFeed className=\"sidebarIcon\" />\n              Feedback\n            </li>\n            <li className=\"sidebarListItem\">\n              <ChatBubbleOutline className=\"sidebarIcon\" />\n              Messages\n            </li>\n          </ul>\n        </div>\n        <div className=\"sidebarMenu\">\n          <h3 className=\"sidebarTitle\">Exit</h3>\n          <ul className=\"sidebarList\">\n            <li className=\"sidebarListItem\" onClick={() => auth.logout()}>\n              <ExitToApp className=\"sidebarIcon\" />\n              Logout\n            </li>\n            {/* <li className=\"sidebarListItem\">\n              <Timeline className=\"sidebarIcon\" />\n              Analytics\n            </li>\n            <li className=\"sidebarListItem\">\n              <Report className=\"sidebarIcon\" />\n              Reports\n            </li> */}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useEffect } from \"react\";\n//UI imports\nimport { DataGrid } from \"@material-ui/data-grid\";\n// import { DeleteOutline } from \"@material-ui/icons\";\n// import { productRows } from \"../../components/SellerChart/dummyData\";\nimport { Link } from \"react-router-dom\";\nimport { useState } from \"react\";\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport \"./sellerProductList.css\";\n\nimport Auth from \"../../utils/auth\";\n\n//setUp dynamic rendering of productdata\nimport { useQuery } from \"@apollo/client\";\nimport { QUERY_PRODUCTS, QUERY_PRODUCTS_BY_SELLER } from \"../../utils/queries\";\n// import { useStoreContext } from \"../../utils/GlobalState\";\n// import { UPDATE_SELLERPRODUCTS } from \"../../utils/actions\";\nimport { idbPromise } from \"../../utils/helpers\";\n\nexport default function SellerProductList() {\n  const userData = Auth.getProfile();\n  const sellerId = userData.data._id;\n  // console.log(sellerId)\n\n  const { loading, data } = useQuery(QUERY_PRODUCTS_BY_SELLER, {\n    variables: { sellerId }\n  });\n\n  const useStyles = makeStyles({\n    root: {\n      '& .cold': {\n        \n        backgroundColor: '#FF3030',\n        opacity: \"0.5\",\n        borderRadius: '5px',\n       \n        \n      },\n      '& .hot': {\n        backgroundColor: '#2E9800',\n        opacity: \"0.5\",\n        borderRadius: '5px',\n\n        \n      },\n    },\n  });\n  const classes = useStyles();\n\n  const [sellerData, setSellerData] = useState([]);\n  // console.log(sellerData)\n\n  useEffect(() => {\n    if (data) {\n      const updatedSellerProducts = data.productsBySeller.map((p) => {\n        return {\n          id: p._id,\n          price: p.price,\n          image: p.image,\n          name: p.name,\n          category: p.category.name,\n          sellerId: p.sellerId._id,\n          shipStatus: p.shipStatus,\n          sold: p.sold,\n        };\n      });\n      // console.log(updatedSellerProducts)\n      setSellerData(updatedSellerProducts);\n      // dispatch({\n      //   type: UPDATE_SELLERPRODUCTS,\n      //   sellerProducts: updatedSellerProducts,\n      // });\n      updatedSellerProducts.forEach((product) => {\n        idbPromise(\"sellerProducts\", \"put\", product);\n      });\n    } else if (!loading) {\n      idbPromise(\"sellerProducts\", \"get\").then((products) => {\n        setSellerData(products);\n      });\n    }\n    // return (updatedSellerProducts)\n  }, [data, loading]);\n\n  // console.log(sellerData)\n\n  const [pageSize, setPageSize] = useState(5);\n\n  const handleDelete = (id) => {\n    setSellerData(sellerData.filter((item) => item.id !== id));\n  };\n\n  const columns = [\n    { field: \"id\", headerName: \"ID\", width: 200, resizable: false, hide: true },\n    {\n      field: \"product\",\n      headerName: \"Product\",\n      width: 300,\n      renderCell: (params) => {\n        return (\n          <div className=\"productListItem\">\n            {/* <img className=\"productListImg\" src={`/s3images/${params.row.image}`} alt=\"\" /> */}\n            {params.row.name}\n          </div>\n        );\n      },\n    },\n    { field: \"category\", headerName: \"Category\", width: 250 },\n    // {\n    //   field: \"status\",\n    //   headerName: \"Status\",\n    //   width: 150,\n    // },\n    {\n      field: \"price\",\n      headerName: \"Price\",\n      width: 160,\n      valueFormatter: (params) => {\n        const valueFormatted = params.row.price.toFixed(2);\n        return `$ ${valueFormatted} `;\n      },\n    },\n    {\n      field: \"action\",\n      headerName: \"Action\",\n      width: 150,\n      renderCell: (params) => {\n        return (\n          <>\n            <Link to={\"product/\" + params.row.id}>\n              <button className=\"productListEdit\">Edit</button>\n            </Link>\n            {/* <DeleteOutline\n              className=\"productListDelete\"\n              onClick={() => handleDelete(params.row.id)}\n            /> */}\n          </>\n        );\n      },\n    },\n    {\n      field: \"sold\",\n      headerName: \"Sold\",\n      width: 150,\n      type: \"boolean\",\n    },\n  ];\n\n  return (\n    <div className=\"sellerProductList\">\n      <div className={classes.root}>\n      <DataGrid\n        autoHeight\n        rows={sellerData}\n        disableSelectionOnClick\n        columns={columns}\n        pageSize={pageSize}\n        onPageSizeChange={(newPageSize) => setPageSize(newPageSize)}\n        rowsPerPageOptions={[5, 10, 20]}\n        pagination\n        checkboxSelection\n        getCellClassName={(params) => {\n          if (params.field === 'sold') {\n            return params.value == true ? 'hot' : 'cold';\n          }\n          return '';\n        }}\n      />\n      </div>\n    </div>\n  );\n}","import React from \"react\";\n\nfunction Jumbotron({ children }) {\n  return (\n    <div\n      style={{ height: 560, clear: \"both\", paddingTop: 120, textAlign: \"center\" }}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport default Jumbotron;\n","import React from \"react\";\nimport Jumbotron from \"../components/Jumbotron\";\n\nconst NoMatch = () => {\n  return (\n    <div>\n      <Jumbotron>\n        <h1>404 Page Not Found</h1>\n        <h1>\n          <span role=\"img\" aria-label=\"Face With Rolling Eyes Emoji\">\n            🙄\n          </span>\n        </h1>\n      </Jumbotron>\n    </div>\n  );\n};\n\nexport default NoMatch;\n","import React, { useEffect, useState } from \"react\";\n\nimport \"./sellerProductItem.css\";\n\nimport { Link, useParams } from \"react-router-dom\";\nimport { Publish } from \"@material-ui/icons\";\n// import { useQuery } from '@apollo/client';\n// import { QUERY_PRODUCTS } from '../utils/queries';\n// import spinner from '../assets/spinner.gif';\nimport { useQuery } from \"@apollo/client\";\nimport { QUERY_PRODUCT } from \"../../utils/queries\";\n\nimport SellerChart from \"../../components/SellerChart\";\nimport { productData } from \"../../components/SellerChart/dummyData\";\nimport NoMatch from \"../NoMatch\";\n\nexport default function SellerProductItem() {\n  const { id } = useParams();\n  console.log(id);\n  const _id = id;\n  console.log(typeof _id);\n\n \n  \n  const { loading, data } = useQuery(QUERY_PRODUCT, {\n    variables: { _id },\n  });\n  console.log(data);\n//  const dataProd = data.product;\n//  console.log(dataProd);\n const [currentProduct, setCurrentProduct] = useState({})\n const [clientId, setClientId] = useState(\"\");\n//  console.log(currentProduct)\n\nuseEffect(() => {\n    if  (data) {\n        const id = data.product._id;\n        // console.log(id)\n        const lastFour = id.substring(id.length-6, id.length);\n        // console.log(lastFour);\n        setClientId(lastFour)\n        setCurrentProduct(data.product)\n    }else if (loading){\n        return\n    }\n    \n}, [data]);\n\n console.log(currentProduct)\n\n  return (\n    <div className=\"sellerProductItem\">\n      <div className=\"productTitleContainer\">\n        <h1 className=\"productTitle\">Product</h1>\n        <Link to=\"/seller/addProduct\">\n          <button className=\"productAddButton\">Create</button>\n        </Link>\n      </div>\n      <div className=\"productTop\">\n        <div className=\"productTopLeft\">\n          <SellerChart\n            data={productData}\n            dataKey=\"Sales\"\n            title=\"Sales Performance\"\n          />\n        </div>\n        <div className=\"productTopRight\">\n          <div className=\"productInfoTop\">\n            <img\n              src={`/s3images/${currentProduct.image}`}\n              alt=\"\"\n              className=\"productInfoImg\"\n            />\n            <span className=\"productName\">{currentProduct.name}</span>\n          </div>\n          <div className=\"productInfoBottom\">\n            <div className=\"productInfoItem\">\n              <span className=\"productInfoKey\">id: </span>\n              <span className=\"productInfoValue\">{clientId}</span>\n            </div>\n            <div className=\"productInfoItem\">\n              <span className=\"productInfoKey\">Price: </span>\n              <span className=\"productInfoValue\">${currentProduct.price}</span>\n            </div>\n            <div className=\"productInfoItem\">\n              <span className=\"productInfoKey\">active:</span>{!currentProduct.sold ? (<span className=\"productInfoValue\">yes</span>) :(<span className=\"productInfoValue\">no</span>)}\n              \n            </div>\n            <div className=\"productInfoItem\">\n              <span className=\"productInfoKey\">ship status:</span>\n              {currentProduct.shipStatus == null ? (<span className=\"productInfoValue\">pending</span>) :(<span className=\"productInfoValue\">something else</span>)}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"productBottom\">\n        <form className=\"productForm\">\n          <div className=\"productFormLeft\">\n            <label>Product Description</label>\n            <textarea name=\"description\" className='scroll descriptionText' rows= \"5\" placeholder={currentProduct.description} />\n            <label>Sold</label>\n            <select name=\"sold\" id=\"sold\">\n            <option aria-label=\"None\" value=\"\" />\n              <option value=\"true\">Yes</option>\n              <option value=\"false\">No</option>\n            </select>\n            <label>Shipped</label>\n            <select name=\"active\" id=\"active\">\n            <option aria-label=\"None\" value=\"\" />\n              <option value=\"yes\">Yes</option>\n              <option value=\"no\">No</option>\n            </select>\n          </div>\n          <div className=\"productFormRight\">\n            <div className=\"productUpload\">\n              <img\n                src={`/s3images/${currentProduct.image}`}\n                alt=\"\"\n                className=\"productUploadImg\"\n              />\n              {/* <label for=\"file\">\n                          <Publish/>\n                      </label> */}\n              {/* <input type=\"file\" id=\"file\" style={{display:\"none\"}} /> */}\n            </div>\n            <button className=\"productButton\">Update</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import React , {useState} from \"react\";\nimport { Route } from \"react-router-dom\";\nimport \"./sellerdash.css\";\n\nimport SellerTopbar from \"../../components/SellerTopbar\";\nimport SellerSidebar from \"../../components/SellerSidebar\";\nimport SellerHome from \"../SellerHome/SellerHome\";\nimport SellerProductList from \"../SellerProductList/SellerProductList\";\nimport NewProduct from \"../NewProduct/NewProduct\";\nimport SellerProductItem from \"../SellerProductItem/SellerProductItem\";\n\nimport auth from \"../../utils/auth\";\n// console.log(auth.getProfile())\n// const {data} = auth.getProfile()\n// console.log(data._id)\n// const userId = data._id;\n\n\nconst SellerDashboard = () => {\n    \n  return (\n    <>\n      {auth.loggedIn() && auth.isSeller() ? (\n        <>\n          <SellerTopbar />\n          <div className=\"mycontainer\">\n            <SellerSidebar />\n            <Route exact path=\"/seller/home\">\n              <SellerHome />\n            </Route>\n            <Route\n              exact\n              path=\"/seller/products\"\n              component={SellerProductList}\n            />\n            <Route\n              exact\n              path=\"/seller/product/:id\"\n              component={SellerProductItem}\n            />\n            <Route exact path=\"/seller/addProduct\" component={NewProduct} />\n          </div>\n        </>\n      ) : (\n        <h3 className='notSeller'>\n          <span role=\"img\" aria-label=\"shocked\">\n            😱\n          </span>\n          You must have a Seller Account to access this page\n        </h3>\n      )}\n    </>\n  );\n};\n\nexport default SellerDashboard;\n","import React, { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\n\nimport Cart from '../components/Cart';\nimport { useStoreContext } from '../utils/GlobalState';\nimport {\n  REMOVE_FROM_CART,\n  UPDATE_CART_QUANTITY,\n  ADD_TO_CART,\n  UPDATE_PRODUCTS,\n} from '../utils/actions';\nimport { QUERY_PRODUCTS } from '../utils/queries';\nimport { idbPromise } from '../utils/helpers';\nimport Loading from '../components/Loading/Loading';\nimport \"./detail.css\";\nimport Button from \"@material-ui/core/Button\";\n\n\nfunction Detail() {\n  const [state, dispatch] = useStoreContext();\n  const { id } = useParams();\n\n  const [currentProduct, setCurrentProduct] = useState({});\n\n  const { loading, data } = useQuery(QUERY_PRODUCTS);\n\n  const { products, cart } = state;\n\n  useEffect(() => {\n    // already in global store\n    if (products.length) {\n      setCurrentProduct(products.find((product) => product._id === id));\n    }\n    // retrieved from server\n    else if (data) {\n      dispatch({\n        type: UPDATE_PRODUCTS,\n        products: data.products,\n      });\n\n      data.products.forEach((product) => {\n        idbPromise('products', 'put', product);\n      });\n    }\n    // get cache from idb\n    else if (!loading) {\n      idbPromise('products', 'get').then((indexedProducts) => {\n        dispatch({\n          type: UPDATE_PRODUCTS,\n          products: indexedProducts,\n        });\n      });\n    }\n  }, [products, data, loading, dispatch, id]);\n\n  const addToCart = () => {\n    const itemInCart = cart.find((cartItem) => cartItem._id === id);\n    if (itemInCart) {\n      dispatch({\n        type: UPDATE_CART_QUANTITY,\n        _id: id,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1,\n      });\n      idbPromise('cart', 'put', {\n        ...itemInCart,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1,\n      });\n    } else {\n      dispatch({\n        type: ADD_TO_CART,\n        product: { ...currentProduct, purchaseQuantity: 1 },\n      });\n      idbPromise('cart', 'put', { ...currentProduct, purchaseQuantity: 1 });\n    }\n  };\n\n  const removeFromCart = () => {\n    dispatch({\n      type: REMOVE_FROM_CART,\n      _id: currentProduct._id,\n    });\n\n    idbPromise('cart', 'delete', { ...currentProduct });\n  };\n\n  return (\n    <>\n      {currentProduct && cart ? (\n        <div className=\"others\">\n        <div className=\"my-1 detailContainer\">\n          \n          <Link to=\"/shop\">← Back to Products</Link>\n          <div className=\"details\">\n            <div id=\"img-container\" className=\"big-img\">\n              <img\n                src={`/s3images/${currentProduct.image}`}\n                alt={currentProduct.name}\n              />\n            </div>\n            <div className=\"box\">\n              <div className=\"row\">\n                <h2>{currentProduct.name}</h2>\n                <span><strong>Price:</strong>${currentProduct.price}{' '}</span>\n              </div>\n              <p>{currentProduct.description}</p>\n              <p>\n              <Button  className=\"cartBtn\" onClick={addToCart}>Add to cart</Button>\n                <Button\n                  id=\"removeCart\"\n                  disabled={!cart.find((p) => p._id === currentProduct._id)}\n                  onClick={removeFromCart}\n                >\n                  Remove from Cart\n                </Button>\n              </p>\n            </div>\n          </div> \n        </div>\n        </div>\n      ) : null}\n      {loading ? <Loading/> : null}\n      <div className=\"detail-cart\">\n        <Cart />\n      </div>\n      \n    </>\n  );\n}\n\nexport default Detail;\n","import React, { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport { Link } from 'react-router-dom';\nimport { LOGIN } from '../utils/mutations';\nimport Auth from '../utils/auth';\nimport './login.css';\nimport { Button, Card, CardContent, Typography } from '@material-ui/core';\nimport { TextField } from '@material-ui/core';\n\nfunction Login(props) {\n  const [formState, setFormState] = useState({ email: '', password: '' });\n  const [login, { error }] = useMutation(LOGIN);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const mutationResponse = await login({\n        variables: { email: formState.email, password: formState.password },\n      });\n      const token = mutationResponse.data.login.token;\n      Auth.login(token);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  return (\n    <div className=\"container loginBg\">\n      <Link to=\"/signup\">Go to Signup</Link>\n\n      <Card className=\"cards\">\n      <div className=\"loginTitle\">\n      <h2>Login</h2>\n      </div>\n     \n        <CardContent>\n      <form onSubmit={handleFormSubmit}>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"email\">Email address:</label>\n          <TextField\n            placeholder=\"email@test.com\"\n            name=\"email\"\n            type=\"email\"\n            id=\"email\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"pwd\">Password:</label>\n          <TextField\n            placeholder=\"******\"\n            name=\"password\"\n            type=\"password\"\n            id=\"pwd\"\n            onChange={handleChange}\n          />\n        </div>\n        {error ? (\n          <div>\n            <p className=\"error-text\">The provided credentials are incorrect</p>\n          </div>\n        ) : null}\n        <div className=\"flex-row loginBtn\">\n          <Button type=\"submit\">Submit</Button>\n        </div>\n      </form>\n      </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nexport default Login;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport Auth from '../utils/auth';\nimport { ADD_USER } from '../utils/mutations';\nimport './signup.css';\nimport { Button, Card } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport { FormGroup } from '@material-ui/core';\n\nfunction Signup(props) {\n  const [formState, setFormState] = useState({ email: '', password: '' });\n  const [addUser] = useMutation(ADD_USER);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n    const mutationResponse = await addUser({\n      variables: {\n        email: formState.email,\n        password: formState.password,\n        firstName: formState.firstName,\n        lastName: formState.lastName,\n        street: formState.street,\n        city: formState.city,\n        state: formState.state,\n        zip: formState.zip\n      },\n    });\n    const token = mutationResponse.data.addUser.token;\n    Auth.login(token);\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  return (\n    <div className=\"container my-1 signupBg\">\n      <Link to=\"/login\">Go to Login</Link>\n\n      <Card className=\"cards\">\n      <h2>Signup</h2>\n\n      <form onSubmit={handleFormSubmit}>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"firstName\">First Name:</label>\n          <TextField\n            placeholder=\"First\"\n            name=\"firstName\"\n            type=\"firstName\"\n            id=\"firstName\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"lastName\">Last Name:</label>\n          <TextField\n            placeholder=\"Last\"\n            name=\"lastName\"\n            type=\"lastName\"\n            id=\"lastName\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"email\">Email:</label>\n          <TextField\n            placeholder=\"youremail@test.com\"\n            name=\"email\"\n            type=\"email\"\n            id=\"email\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"pwd\">Password:</label>\n          <TextField\n            placeholder=\"******\"\n            name=\"password\"\n            type=\"password\"\n            id=\"pwd\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"address\">Address:</label>\n          <input\n            name={\"address\"}\n            type={\"address\"}\n            placeholder={\"Address\"}\n            onChange={handleChange}\n          />\n          <input\n            name={\"city\"}\n            type={\"city\"}\n            placeholder={\"City\"}\n            onChange={handleChange}\n          />\n          <input\n            name={\"state\"}\n            type={\"state\"}\n            placeholder={\"State\"}\n            onChange={handleChange}\n          />\n          <input\n            name={\"zip\"}\n            type={\"zip\"}\n            placeholder={\"zip\"}\n            onChange={handleChange}\n          />\n        </div>\n\n        <div className=\"flex-row flex-end\">\n          <button type=\"submit\">Submit</button>\n        </div>\n      </form>\n      </Card>\n    </div>\n  );\n}\n\nexport default Signup;\n","import React, {useState, useEffect} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Auth from \"../../utils/auth\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { Button } from \"@material-ui/core\";\n// import auth from \"../../utils/auth\";\n\nconst withouNavRoutes = [\"/seller\", \"/dashboard\"];\n\nfunction Nav() {\n \n  const { pathname } = useLocation();\n  \n  function showNavigation() {\n    if (Auth.loggedIn()) {\n      return (\n        <ul className=\"flex-row\">\n          <li className=\"mx-1\">\n            <Link to=\"/shop\">Shop</Link>\n          </li>\n          <li className=\"mx-1\">\n            <Link to=\"/orderHistory\">Order History</Link>\n          </li>{\" \"}\n          {Auth.isSeller() === true ? (\n            <li className=\"mx-1\">\n              <Link to=\"/seller/home\">Dashboard</Link>\n            </li>\n          ) : null}\n          <li className=\"mx-1\">\n            {/* this is not using the Link component to logout or user and then refresh the application to the start */}\n            <a href=\"/\" onClick={() => Auth.logout()}>\n              Logout\n            </a>\n          </li>\n        </ul>\n      );\n    } else {\n      return (\n        <ul className=\"flex-row\">\n          <li className=\"mx-1\">\n            <Link to=\"/shop\">Shop</Link>\n          </li>\n          <li className=\"mx-1\">\n            <Link to=\"/signup\">Signup</Link>\n          </li>\n          <li className=\"mx-1\">\n            <Link to=\"/login\">Login</Link>\n          </li>\n        </ul>\n      );\n    }\n  }\n  if (withouNavRoutes.some((item) => pathname.includes(item))) return null;\n  return (\n    <header className=\"flex-row px-1\">\n      <h1>\n        <Link to=\"/\">\n          {/* <span role=\"img\" aria-label=\"shopping bag\">🛍️</span> */}\n          Plant It - Sell It\n        </Link>\n      </h1>\n\n      <nav>{showNavigation()}</nav>\n    </header>\n  );\n}\n\nexport default Nav;\n\n// import React from \"react\";\n// import { makeStyles } from \"@material-ui/core/styles\";\n// import AppBar from \"@material-ui/core/AppBar\";\n// import Toolbar from \"@material-ui/core/Toolbar\";\n// import Auth from \"../../utils/auth\";\n// import { Link } from \"react-router-dom\";\n// import { Button } from \"@material-ui/core\";\n\n// const useStyles = makeStyles((theme) => ({\n//   root: {\n//     flexGrow: 1,\n//   },\n//   menuButton: {\n//     marginRight: theme.spacing(2),\n//   },\n//   title: {\n//     flexGrow: 1,\n//   },\n// }));\n\n// function LandingNav() {\n//   const classes = useStyles();\n//   function showNavigation() {\n//     if (Auth.loggedIn()) {\n//       return (\n//         <div className={classes.root}>\n//           <div className=\"header \">\n//             <div className=\"navigation pxy__30\">\n//               <AppBar positon=\"static\" color=\"transparent\">\n//                 <Toolbar className=\"navbar d__flex\">\n//                   <Link to=\"/shop\" edge=\"end\" className=\"nav__items px__30\" >Shop</Link>\n//                   <Link to=\"/orderHistory\" edge=\"end\" className=\"nav__items px__30\" >Order History</Link>\n//                   <a href=\"/\" onClick={() => Auth.logout()}>\n//                     Logout\n//                   </a>\n//                 </Toolbar>\n//               </AppBar>\n//             </div>\n//           </div>\n//         </div>\n//       );\n//     } else {\n//       return (\n//         <div className={classes.root}>\n//           <div className=\"header \">\n//             <div className=\"navigation\">\n//               <AppBar positon=\"static\" color=\"transparent\">\n//                 <Toolbar className=\"navbar d__flex\">\n//                   <Link to=\"/shop\" edge=\"end\" className=\"nav__items px__30\" >Shop</Link>\n//                   <Link to=\"/signup\" edge=\"end\" className=\"nav__items px__30\" >Signup</Link>\n//                   <Link to=\"/login\" edge=\"end\" className=\"nav__items px__30\" >Login</Link>\n//                 </Toolbar>\n//               </AppBar>\n//             </div>\n//           </div>\n//         </div>\n//       );\n//     }\n//   }\n//   return (\n//     <div className={classes.root}>\n//       <div className=\"header \">\n//         <div className=\"navigation pxy__30\">\n//           <header>\n//             <AppBar positon=\"static\" color=\"transparent\">\n//               <Toolbar className=\"d__flex\">\n//                 <Link to=\"/\" edge=\"end\">\n//                   Plant It - Sell It\n//                 </Link>\n\n//                 <nav>{showNavigation()}</nav>\n//               </Toolbar>\n//             </AppBar>\n//           </header>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default LandingNav;\n\n//PART 1\n// <div className={classes.root}>\n// <div className=\"header \">\n//   <div className=\"navigation pxy__30\">\n//     <AppBar position=\"static\" color=\"primary\">\n//       <Toolbar className=\"navbar d__flex\">\n//         <Link to=\"/shop\" edge=\"end\" className=\"nav__items px__30\" >Shop</Link>\n//         <Link to=\"/orderHistory\" edge=\"end\" className=\"nav__items px__30\" >Order History</Link>\n//         <a href=\"/\" onClick={() => Auth.logout()}>\n//           Logout\n//         </a>\n//       </Toolbar>\n//     </AppBar>\n//   </div>\n// </div>\n// </div>\n// );\n// } else {\n// return (\n// <div className={classes.root}>\n// <div className=\"header \">\n//   <div className=\"navigation\">\n\n//       <Toolbar disableGutters=\"true\" className=\"navbar d__flex\">\n//         <Link to=\"/shop\" edge=\"end\" className=\"nav__items px__30\" >Shop</Link>\n//         <Link to=\"/signup\" edge=\"end\" className=\"nav__items px__30\" >Signup</Link>\n//         <Link to=\"/login\" edge=\"end\" className=\"nav__items px__30\" >Login</Link>\n//       </Toolbar>\n\n//   </div>\n// </div>\n// </div>\n\n//PART 2\n\n// const withouNavRoutes = [\"/seller\"];\n\n// function LandingNav() {\n//   const classes = useStyles();\n//   const {pathname} = useLocation();\n\n//   function showNavigation() {\n//     if (Auth.loggedIn()) {\n//       return (\n//         <div className={classes.root}>\n//           <div className=\"header \">\n//             <div className=\"navigation pxy__30\">\n//               <AppBar positon=\"static\" color=\"transparent\">\n//                 <Toolbar className=\"navbar d__flex\">\n//                   <Link to=\"/shop\" edge=\"end\" className=\"nav__items px__30\" >Shop</Link>\n//                   <Link to=\"/orderHistory\" edge=\"end\" className=\"nav__items px__30\" >Order History</Link>\n//                   <a href=\"/\" onClick={() => Auth.logout()}>\n//                     Logout\n//                   </a>\n//                 </Toolbar>\n//               </AppBar>\n//             </div>\n//           </div>\n//         </div>\n//       );\n//     } else {\n//       return (\n//         <div className={classes.root}>\n//           <div className=\"header \">\n//             <div className=\"navigation\">\n//               <AppBar positon=\"static\" color=\"transparent\">\n//                 <Toolbar className=\"navbar d__flex\">\n//                   <Link to=\"/shop\" edge=\"end\" className=\"nav__items px__30\" >Shop</Link>\n//                   <Link to=\"/signup\" edge=\"end\" className=\"nav__items px__30\" >Signup</Link>\n//                   <Link to=\"/login\" edge=\"end\" className=\"nav__items px__30\" >Login</Link>\n//                 </Toolbar>\n//               </AppBar>\n//             </div>\n//           </div>\n//         </div>\n//       );\n//     }\n//   }\n//   if (withouNavRoutes.some((item) => pathname.includes(item))) return null;\n//   return (\n//     <div className={classes.root}>\n//       <div className=\"header \">\n//         <div className=\"navigation pxy__30\">\n//           <header>\n//             <AppBar positon=\"static\" color=\"transparent\">\n//               <Toolbar className=\"d__flex\">\n//                 <Link to=\"/\" edge=\"end\">\n//                   Plant It - Sell It\n//                 </Link>\n\n//                 <nav>{showNavigation()}</nav>\n//               </Toolbar>\n//             </AppBar>\n//           </header>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }\n{\n  /* <div className={classes.root}>\n<div className=\"header \">\n  <div className=\"navigation pxy__30\">\n    <header>\n     \n        <Toolbar disableGutters=\"true\"  className=\"d__flex\">\n          <Link to=\"/\" edge=\"end\">\n            Plant It - Sell It\n          </Link>\n\n          <nav>{showNavigation()}</nav>\n        </Toolbar>\n     \n    </header>\n  </div>\n</div>\n</div> */\n}\n","import React, { useEffect } from 'react';\nimport { useMutation } from '@apollo/client';\nimport Jumbotron from '../components/Jumbotron';\nimport { ADD_ORDER } from '../utils/mutations';\nimport { idbPromise } from '../utils/helpers';\n\nfunction Success() {\n  const [addOrder] = useMutation(ADD_ORDER);\n\n  useEffect(() => {\n    async function saveOrder() {\n      const cart = await idbPromise('cart', 'get');\n      const products = cart.map((item) => item._id);\n      console.log(products)\n\n      if (products.length) {\n        const { data } = await addOrder({ variables: { products } });\n        const productData = data.addOrder.products;\n\n       \n      }\n\n      setTimeout(() => {\n        window.location.assign('/');\n      }, 3000);\n    }\n\n    saveOrder();\n  }, [addOrder]);\n\n  return (\n    <div>\n      <Jumbotron>\n        <h1>Success!</h1>\n        <h2>Thank you for your purchase!</h2>\n        <h2>You will now be redirected to the home page</h2>\n      </Jumbotron>\n    </div>\n  );\n}\n\nexport default Success;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { useQuery } from '@apollo/client';\nimport { QUERY_USER } from '../utils/queries';\n\nfunction OrderHistory() {\n  const { data } = useQuery(QUERY_USER);\n  let user;\n\n  if (data) {\n    user = data.user;\n  }\n\n  return (\n    <>\n      <div className=\"container my-1\">\n        <Link to=\"/\">← Back to Products</Link>\n\n        {user ? (\n          <>\n            <h2>\n              Order History for {user.firstName} {user.lastName}\n            </h2>\n            {user.orders.map((order) => (\n              <div key={order._id} className=\"my-2\">\n                <h3>\n                  {new Date(parseInt(order.purchaseDate)).toLocaleDateString()}\n                </h3>\n                <div className=\"flex-row\">\n                  {order.products.map(({ _id, image, name, price }, index) => (\n                    <div key={index} className=\"card px-1 py-1\">\n                      <Link to={`/products/${_id}`}>\n                        <img alt={name} src={'/s3images/'+ image} />\n                        <p>{name}</p>\n                      </Link>\n                      <div>\n                        <span>$ {price}</span>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            ))}\n          </>\n        ) : null}\n      </div>\n    </>\n  );\n}\n\nexport default OrderHistory;\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport {\n  ApolloClient,\n  InMemoryCache,\n  ApolloProvider,\n  createHttpLink,\n} from '@apollo/client';\nimport { setContext } from '@apollo/client/link/context';\n\n// import \"./app.css\"\n\nimport Home from './pages/Home';\nimport Shop from './pages/Shop';\nimport Dashboard from './pages/Dashboard/Dashboard'\nimport SellerDashboard from './pages/SellerDashboard/SellerDashboard'\nimport Detail from './pages/Detail';\nimport NoMatch from './pages/NoMatch';\nimport Login from './pages/Login';\nimport Signup from './pages/Signup';\nimport Nav from './components/Nav';\nimport { StoreProvider } from './utils/GlobalState';\nimport Success from './pages/Success';\nimport OrderHistory from './pages/OrderHistory';\n// import Footer from './components/Footer';\n\n\n\nconst httpLink = createHttpLink({\n  uri: '/graphql',\n});\n\nconst authLink = setContext((_, { headers }) => {\n  const token = localStorage.getItem('id_token');\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : '',\n    },\n  };\n});\n\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n});\n\nfunction App() {\n  return (\n    <ApolloProvider client={client}>\n      <Router>\n        <div>\n          <StoreProvider>\n            <Nav />\n            <Switch>\n              <Route exact path=\"/\" component={Home} />\n              <Route exact path=\"/shop\" component={Shop} />              \n              <Route  path=\"/dashboard/\" component={Dashboard} />\n              <Route exaxt path=\"/seller\" component={SellerDashboard} />    \n                  \n              <Route exact path=\"/login\" component={Login} />\n              <Route exact path=\"/signup\" component={Signup} />\n              <Route exact path=\"/success\" component={Success} />\n              <Route exact path=\"/orderHistory\" component={OrderHistory} />\n              \n              <Route exact path=\"/products/:id\" component={Detail} />\n              <Route component={NoMatch} />\n            </Switch>\n          </StoreProvider>\n        \n        </div>\n\n      \n      </Router>\n      \n    </ApolloProvider>\n  \n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (\n    process.env.NODE_ENV === 'production' &&\n    'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}